import{j as e,h as P,a as i,d as L,n as w,o as E,p as $,q as M,t as T,r as u,L as F}from"./index-xz-e4_RC.js";import{N as G}from"./NothingFoundCard-CqzsJz8J.js";import{u as R}from"./useGetUserInfo-DE8eMw6h.js";import{A as O}from"./ArticlesList-Bm4WSDv_.js";import{e as q}from"./editor-BVF5sQ-p.js";import"./useDeleteSavedArticle-CWQatEPy.js";import"./articlesApi-16u3iL6n.js";import"./usersApi-D4LaL_vX.js";import"./useSaveArticle-0ITSolbr.js";import"./camera-DM_mPU7m.js";const B="_header_ncckm_8",V="_editIcon_ncckm_179",r={"author-profile":"_author-profile_ncckm_1",header:B,"author-profile__header":"_author-profile__header_ncckm_18","author-profile__avatar":"_author-profile__avatar_ncckm_26","author-profile__avatar-placeholder":"_author-profile__avatar-placeholder_ncckm_32","author-profile__name":"_author-profile__name_ncckm_45","author-profile__articles-amount":"_author-profile__articles-amount_ncckm_51","author-profile__load-more-btn":"_author-profile__load-more-btn_ncckm_100","author-profile__name-wrapper":"_author-profile__name-wrapper_ncckm_158","edit-profile-link":"_edit-profile-link_ncckm_164",editIcon:V},W="_active_19618_17",c={"author-profile__tabs":"_author-profile__tabs_19618_1","author-profile__tab-btn":"_author-profile__tab-btn_19618_6",active:W},m=12,a={all:"myArticles",saved:"mySavedArticles"},z=({setActiveTab:o,activeTab:l})=>e.jsxs("div",{className:c["author-profile__tabs"],children:[e.jsx("button",{className:`${c["author-profile__tab-btn"]} ${l===a.all?c.active:""}`,onClick:()=>o(a.all),disabled:l===a.all,children:"My Articles"}),e.jsx("button",{className:`${c["author-profile__tab-btn"]} ${l===a.saved?c.active:""}`,onClick:()=>o(a.saved),disabled:l===a.saved,children:"Saved Articles"})]}),ae=()=>{const{id:o}=P(),l=i(L),A=i(w),x=i(E),b=i($),j=i(M),N=i(T),t=l===o,[s,k]=u.useState(a.all),[g,p]=u.useState(m),{user:n,userArticles:U,isLoading:y}=R(o),_=t?A:n?.name||"Unknown Author",f=t?x:n?.avatarUrl,C=t?N:n?.articlesAmount,v=s===a.all?t?b:U:j,h=v?.slice(0,g)||[],S=d=>{k(d)},I=()=>{p(d=>d+m)};return u.useEffect(()=>{p(m)},[s,o]),e.jsxs("div",{className:`container ${r["author-profile"]}`,children:[t&&e.jsx("h1",{className:r.header,children:"My profile"}),e.jsxs("div",{className:r["author-profile__header"],children:[f?e.jsx("img",{className:r["author-profile__avatar"],src:f,alt:_,width:100,height:100}):e.jsx("div",{className:r["author-profile__avatar-placeholder"],children:_?.charAt(0).toUpperCase()}),e.jsxs("div",{className:r["author-profile__name__articles-amount"],children:[e.jsxs("div",{className:r["author-profile__name-wrapper"],children:[e.jsx("h2",{className:r["author-profile__name"],children:_}),t&&e.jsx(F,{to:"/update-profile",className:r["edit-profile-link"],children:e.jsx("img",{src:q,alt:"Change photo",className:r.editIcon})})]}),e.jsxs("p",{className:r["author-profile__articles-amount"],children:["Articles: ",C]})]})]}),t&&e.jsx(z,{setActiveTab:S,activeTab:s}),y?e.jsx("p",{className:r["author-profile__loading"],children:"Loading articles..."}):e.jsx(e.Fragment,{children:h?.length===0?e.jsx(G,{title:"Nothing found.",text:t&&s===a.saved?"Save your first article":"Write your first article",linkText:t&&s===a.saved?"Go to articles":"Create an article",linkPath:t&&s===a.saved?"/articles":"/create"}):e.jsxs(e.Fragment,{children:[e.jsx(O,{articles:h,isOwnProfile:t&&s===a.all}),h.length<(v?.length||0)&&e.jsx("button",{className:r["author-profile__load-more-btn"],onClick:I,children:"Load More"})]})})]})};export{ae as default};
