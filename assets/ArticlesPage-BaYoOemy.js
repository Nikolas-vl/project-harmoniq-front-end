import{j as t,a as N,r as n}from"./index-h3mZRBEu.js";import{u as v,P as L}from"./Pagination-jvorndI2.js";import{A as S}from"./ArticlesList-jruVOBOJ.js";/* empty css                  */import{u as C}from"./useGetArticles-DFZvUTi6.js";import{N as B}from"./NothingFoundCard-BnlOLhJr.js";import"./articlesApi-D2LK1xWm.js";import"./useLoader-Drpnj91X.js";import"./useDeleteSavedArticle-DxJyIjUm.js";import"./camera-CwHp4xUP.js";const E="_section_1ok9t_1",b="_header_1ok9t_5",y="_totalArticles_1ok9t_14",F="_dropdown_1ok9t_30",O="_dropdownButton_1ok9t_35",R="_arrow_1ok9t_50",$="_open_1ok9t_56",I="_dropdownList_1ok9t_60",T="_isActive_1ok9t_86",e={section:E,header:b,totalArticles:y,dropdown:F,dropdownButton:O,arrow:R,open:$,dropdownList:I,isActive:T},q=({children:r})=>t.jsx("h1",{style:{fontWeight:700,fontSize:"40px",color:"#000"},children:r}),V=()=>{const[r]=N(),h=Number(r.get("page"))||1,g=Number(r.get("perPage"))||12,[d,_]=n.useState(h),[x]=n.useState(g),[o,w]=n.useState(null),{articles:a,isLoading:p,pagination:i,queryParams:f}=C({page:d,perPage:x,filter:o});v(f);const P=!i||a.length===0,[u,c]=n.useState(!1),l=n.useRef(null),j=()=>c(s=>!s),m=s=>{w(s),c(!1)},A=o==="popular"?"Popular":"All";return n.useEffect(()=>{const s=k=>{l.current&&!l.current.contains(k.target)&&c(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]),t.jsxs("section",{className:`container ${e.section}`,children:[t.jsx(q,{children:"Articles"}),t.jsxs("div",{className:e.header,children:[t.jsxs("p",{className:e.totalArticles,children:[i?.totalItems||0," articles"]}),t.jsxs("div",{className:e.dropdown,ref:l,children:[t.jsxs("button",{onClick:j,className:e.dropdownButton,children:[A," ",t.jsx("span",{className:`${e.arrow} ${u?e.open:""}`,children:">"})]}),u&&t.jsxs("ul",{className:e.dropdownList,children:[t.jsx("li",{onClick:()=>o!=="all"&&m("all"),className:o==="all"||o===null?e.isActive:"",children:"All"}),t.jsx("li",{onClick:()=>o!=="popular"&&m("popular"),className:o==="popular"?e.isActive:"",children:"Popular"})]})]})]}),P?t.jsx(B,{title:"Nothing found.",text:"Be the first, who creates an article",linkText:"Create an article",linkPath:"/create"}):t.jsxs(t.Fragment,{children:[t.jsx(S,{articles:a,isLoading:p,pagination:i}),a&&a.length>0&&t.jsx(L,{page:d,totalPages:i?.totalPages,onPageChange:_,isLoading:p})]})]})};export{V as default};
