import{r,a as u,d as y,g as S,j as e,L as m,V as g}from"./index-DpoYU2tr.js";import{M as k}from"./ModalErrorSave-IyeaKMhN.js";import{u as C}from"./useSaveArticle-DUskaYEF.js";import{d as $,g as B}from"./usersApi-ITqBExAt.js";import{u as T}from"./useGetPopularArticles-B7yo-hv2.js";/* empty css                  */import"./articlesApi-CgDdcgyt.js";const I="_card_container_1tu6f_5",A="_card_image_1tu6f_18",E="_card_author_name_1tu6f_25",F="_card_title_1tu6f_32",P="_card_description_1tu6f_40",M="_card_button_container_1tu6f_53",U="_load_more_link_1tu6f_58",R="_save_button_1tu6f_73",V="_saved_button_1tu6f_87",_={card_container:I,card_image:A,card_author_name:E,card_title:F,card_description:P,card_button_container:M,load_more_link:U,save_button:R,saved_button:V},D=()=>{const[s,o]=r.useState(!1);return{deleteArticle:async(a,n)=>{o(!0);try{await $(a,n)}catch(l){console.error("Failed to delete saved article:",l)}finally{o(!1)}},isLoading:s}},O=s=>r.createElement("svg",{width:41,height:41,viewBox:"0 0 41 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",...s},r.createElement("rect",{x:1,y:1.4043,width:39,height:39,rx:19.5,stroke:"#374F42",fill:"transparent"}),r.createElement("path",{d:"M20.4971 12.4043C21.7607 12.4043 22.9206 12.5252 23.8398 12.665C25.0036 12.8421 25.916 13.6396 26.1758 14.7539C26.4894 16.0991 26.7969 18.1457 26.7441 20.8945C26.6859 23.9276 26.2432 26.1159 25.8164 27.5439C25.701 27.9299 25.4339 28.1286 25.1318 28.1797C24.816 28.233 24.4263 28.1279 24.1094 27.8125C23.5326 27.2383 22.8719 26.6181 22.2627 26.1387C21.9586 25.8994 21.6558 25.686 21.375 25.5303C21.1101 25.3834 20.7995 25.25 20.4971 25.25C20.1993 25.25 19.8783 25.3812 19.5977 25.5254C19.2986 25.679 18.9675 25.8898 18.6289 26.1289C17.9504 26.608 17.1989 27.2287 16.5371 27.8037C16.1878 28.1072 15.7764 28.179 15.4521 28.0908C15.1392 28.0056 14.8752 27.7652 14.7939 27.3467C14.5149 25.9087 14.25 23.7848 14.25 20.9043C14.25 18.0308 14.5461 16.004 14.8408 14.6992C15.085 13.6179 15.9671 12.848 17.1016 12.6729C18.0289 12.5296 19.2091 12.4043 20.4971 12.4043Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),z=({article:s,isBeingLoaded:o})=>{const t=u(y),a=u(S),[n,l]=r.useState(!1),[h,p]=r.useState(!1),{saveArticle:w,isLoading:f}=C(),{deleteArticle:N,isLoading:b}=D();r.useEffect(()=>{l(a.some(x=>x===s._id))},[s._id,a]);const L=async()=>{if(!t){p(!0);return}try{n?(await N(t,s._id),l(!1),g.success("Removed from saved!")):(await w(t,s._id),l(!0),g.success("Saved!"))}catch(x){g.error("Something went wrong"),console.error(x)}};return o?e.jsx("p",{children:"✋Loading...✋"}):e.jsxs(e.Fragment,{children:[e.jsx(k,{isOpen:h,onClose:()=>p(!1)}),e.jsxs("div",{className:_.card_container,children:[e.jsx("img",{className:_.card_image,src:s.img,alt:s.desc}),e.jsxs("div",{children:[e.jsx("p",{className:_.card_author_name,children:s?.author||"Unknown author"}),e.jsx("h3",{className:_.card_title,children:s.title}),e.jsx("p",{className:_.card_description,children:s.article})]}),e.jsxs("div",{className:_.card_button_container,children:[e.jsx(m,{className:_.load_more_link,to:`/articles/${s._id}`,children:"Learn more"}),e.jsx("button",{onClick:L,disabled:f||b,className:`${_.save_button} ${n?_.saved_button:""}`,children:f||b?e.jsx("span",{style:{fontSize:"8px",margin:0},children:"✋"}):e.jsx(O,{})})]})]})]})},W="_list_g4d8g_1",q={list:W},G=()=>{const[s,o]=r.useState(4),{articles:t,isLoading:a}=T(s);return r.useEffect(()=>{const n=()=>{const l=window.innerWidth;o(l>=1440?3:4)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),a?e.jsx("p",{children:"✋Loading...✋"}):e.jsx("ul",{className:q.list,children:t.slice(0,s).map((n,l)=>e.jsx("li",{children:e.jsx(z,{article:n,isBeingLoaded:a})},l))})},v="data:image/svg+xml,%3csvg%20width='17'%20height='16'%20id='redirect-logo'%20viewBox='0%200%2017%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1.375%2015.125L15.6195%200.875M15.6195%200.875H7.94796M15.6195%200.875L15.6196%208.5466'%20stroke='%23374F42'%20stroke-linecap='round'%20stroke-linejoin='round'%20/%3e%3c/svg%3e",H="_section_container_s8l8y_1",Y="_section_link_svg_container_s8l8y_6",Q="_section_title_s8l8y_12",J="_redirect_link_s8l8y_20",K="_svg_s8l8y_31",X="_section_title_link_container_s8l8y_36",c={section_container:H,section_link_svg_container:Y,section_title:Q,redirect_link:J,svg:K,section_title_link_container:X},Z=()=>e.jsx(e.Fragment,{children:e.jsx("section",{className:c.section_container,id:"popular-articles",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:c.section_title_link_container,children:[e.jsx("h2",{className:c.section_title,children:"Popular Articles"}),e.jsx("div",{className:c.section_link_svg_container,children:e.jsxs(m,{className:c.redirect_link,to:"/articles",children:["Go to all Articles",e.jsx("img",{src:v,alt:"Redirect icon",className:c.svg})]})})]}),e.jsx(G,{})]})})}),ee="_section_container_lo1jh_1",se={section_container:ee},te="_card_container_1warf_1",ne="_card_image_1warf_10",oe="_author_name_1warf_17",j={card_container:te,card_image:ne,author_name:oe},re=({users:s})=>e.jsxs(m,{to:`/authors/${s._id}`,className:j.card_container,children:[e.jsx("img",{className:j.card_image,src:s.avatarUrl,alt:s.name}),e.jsx("span",{className:j.author_name,children:s.name})]}),ae="_list_841jj_1",ie={list:ae},ce=(s=3)=>{const[o,t]=r.useState([]),[a,n]=r.useState(!1);return r.useEffect(()=>{(async()=>{n(!0);try{const h=await B(s);t(h.data.data.users)}catch(h){console.error("Failed to fetch users:",h)}finally{n(!1)}})()},[s]),{users:o,isLoading:a}},le=()=>{const{users:s,isLoading:o}=ce(6);return o?e.jsx("p",{children:"✋Loading...✋"}):e.jsx("ul",{className:ie.list,children:s.map((t,a)=>e.jsx("li",{children:e.jsx(re,{users:t})},a))})},de=()=>e.jsx(e.Fragment,{children:e.jsx("section",{className:se.section_container,children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:c.section_title_link_container,children:[e.jsx("h2",{className:c.section_title,children:"Top Creators"}),e.jsx("div",{className:c.section_link_svg_container,children:e.jsxs(m,{className:c.redirect_link,to:"/authors",children:["Go to all Creators",e.jsx("img",{src:v,alt:"Redirect icon",className:c.svg})]})})]}),e.jsx(le,{})]})})}),_e="_hero_1of6e_1",me="_heroImage_1of6e_10",he="_heroTitle_1of6e_22",ue="_heroTitleSpan_1of6e_32",xe="_buttons_1of6e_36",ge="_articlesBtn_1of6e_44",je="_registerBtn_1of6e_67",pe="_heroInner_1of6e_97",fe="_content_1of6e_148",d={hero:_e,heroImage:me,heroTitle:he,heroTitleSpan:ue,buttons:xe,articlesBtn:ge,registerBtn:je,heroInner:pe,content:fe},be=()=>{const s=u(t=>t.auth.isLoggedIn),o=u(t=>t.auth.user.id);return e.jsx("section",{className:d.hero,children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:d.heroInner,children:[e.jsx("div",{className:d.heroImage}),e.jsxs("div",{className:d.content,children:[e.jsxs("h1",{className:d.heroTitle,children:[" ","Find your ",e.jsx("span",{className:d.heroTitleSpan,children:"harmony"})," in community"]}),e.jsxs("div",{className:d.buttons,children:[e.jsx("a",{href:"#popular-articles",className:d.articlesBtn,children:"Go to Articles"}),s?e.jsx(m,{to:`/authors/${o}`,className:d.registerBtn,children:"My profile"}):e.jsx(m,{to:"/register",className:d.registerBtn,children:"Register"})]})]})]})})})},ve="_desktopOnly_ljmb1_1",we="_about_ljmb1_5",Ne="_content_ljmb1_10",Le="_textLotos_ljmb1_16",ye="_textBox_ljmb1_22",Se="_aboutTitle_ljmb1_30",ke="_aboutText_ljmb1_38",Ce="_picturesList_ljmb1_66",i={desktopOnly:ve,about:we,content:Ne,textLotos:Le,textBox:ye,aboutTitle:Se,aboutText:ke,picturesList:Ce},$e="/assets/lotos-BuFLVdvU.webp",Be="/assets/lotos@2x-Btrb29hx.webp",Te="/assets/lotos-tab-B-OS1Q-m.webp",Ie="/assets/lotos-tab@2x-DWEqBz90.webp",Ae="/assets/lotos-tel-DzftKVwL.webp",Ee="/assets/lotos-tel@2x-DSF4IYvY.webp",Fe="/assets/friends-j-mn_MTT.webp",Pe="/assets/friends@2x-BEi6FRc2.webp",Me="/assets/friends-tab-BVYHqVPT.webp",Ue="/assets/friends-tab@2x-BF9Vpm6q.webp",Re="/assets/friends-tel-DSdLBvE8.webp",Ve="/assets/friends-tel@2x-QP1OwATy.webp",De="/assets/yoga-L9cqJ3Ar.webp",Oe="/assets/yoga@2x-DMN7X9Rl.webp",ze=()=>e.jsx("section",{className:i.about,children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:i.content,children:[e.jsxs("div",{className:i.textLotos,children:[e.jsxs("div",{className:i.textBox,children:[e.jsx("h2",{className:i.aboutTitle,children:"About us"}),e.jsx("p",{className:i.aboutText,children:"Harmoniq is a mindful publishing platform dedicated to mental health and well-being. We bring together writers, thinkers, and readers who believe that open, thoughtful stories can heal, inspire, and connect. Whether you're here to share your journey or learn from others — this is your space to slow down, reflect, and grow."})]}),e.jsx("div",{className:i.lotosWrap,children:e.jsxs("picture",{children:[e.jsx("source",{srcSet:`${$e} 1x, ${Be} 2x`,media:"(min-width: 1440px)"}),e.jsx("source",{srcSet:`${Te} 1x, ${Ie} 2x`,media:"(min-width: 768px)"}),e.jsx("source",{srcSet:`${Ae} 1x, ${Ee} 2x`,media:"(max-width: 767px)"}),e.jsx("img",{src:"../../assets/img/lotos.webp",alt:"Lotos"})]})})]}),e.jsxs("ul",{className:i.picturesList,children:[e.jsx("li",{className:i.picturesListItem,children:e.jsxs("picture",{children:[e.jsx("source",{srcSet:`${Fe} 1x, ${Pe} 2x`,media:"(min-width: 1440px)"}),e.jsx("source",{srcSet:`${Me} 1x, ${Ue} 2x`,media:"(min-width: 768px)"}),e.jsx("source",{srcSet:`${Re} 1x, ${Ve} 2x`,media:"(max-width: 767px)"}),e.jsx("img",{src:"../../assets/img/friends.webp",alt:"Friends"})]})}),e.jsx("li",{className:i.picturesListItem+" "+i.desktopOnly,children:e.jsxs("picture",{children:[e.jsx("source",{srcSet:`${De} 1x, ${Oe} 2x`,media:"(min-width: 1440px)"}),e.jsx("img",{src:"/img/yoga.webp",alt:"Yoga"})]})})]})]})})}),Ke=()=>e.jsxs(e.Fragment,{children:[e.jsx(be,{}),e.jsx(ze,{}),e.jsx(Z,{}),e.jsx(de,{})]});export{Ke as default};
