import{r as i,c as D,u as x,s as L,d as C,j as e,L as m,V as o,e as u}from"./index-h3mZRBEu.js";import{u as E,a as M,b,M as F,B}from"./useDeleteSavedArticle-DxJyIjUm.js";import{S as I}from"./camera-CwHp4xUP.js";const T="_card_container_ye0iu_1",U="_card_image_ye0iu_14",V="_unknown_image_ye0iu_22",$="_card_author_name_ye0iu_36",R="_card_title_ye0iu_44",O="_card_description_ye0iu_58",W="_card_button_container_ye0iu_72",Z="_load_more_link_ye0iu_77",s={card_container:T,card_image:U,unknown_image:V,card_author_name:$,card_title:R,card_description:O,card_button_container:W,load_more_link:Z},Y=({article:n,isOwnArticle:_=!1})=>{const[c,t]=i.useState(!1),[f,h]=i.useState(!1),d=D(),l=x(L),g=x(C),{saveArticle:v,isLoading:j}=E(),{deleteArticle:k,isLoading:w}=M(),{remove:p,isLoading:S}=b(),N=j||w;i.useEffect(()=>{t(g.some(a=>a===n._id))},[n._id,g]);const y=async()=>{if(!l){h(!0);return}try{c?(await k(l,n._id),t(!1),o.success("Removed from saved!"),d(u())):(await v(l,n._id),t(!0),o.success("Saved!"),d(u()))}catch(a){o.error("Something went wrong"),console.error(a)}},A=async()=>{try{await p(n._id),o.success("Article deleted!"),d(u())}catch(a){console.error("Failed to delete:",a),o.error("Failed to delete article")}};return e.jsxs(e.Fragment,{children:[e.jsx(F,{isOpen:f,onClose:()=>h(!1)}),e.jsxs("div",{className:s.card_container,children:[n.image?e.jsx("img",{className:s.card_image,src:n.image,alt:n.desc}):e.jsx(I,{className:s.unknown_image}),e.jsxs("div",{children:[e.jsx(m,{to:`/authors/${n.ownerId}`,className:s.card_author_name,children:n?.author||"Unknown author"}),e.jsx("h3",{className:s.card_title,children:n.title}),e.jsx("p",{className:s.card_description,children:n.article})]}),e.jsxs("div",{className:s.card_button_container,children:[e.jsx(m,{className:s.load_more_link,to:`/articles/${n._id}`,children:"Learn more"}),e.jsx(B,{onToggle:y,isDisabled:N,isSaved:c,isOwnArticle:_,onDelete:A,isLoadingDelete:S})]})]})]})},q="_not_found_container_1ad49_1",z="_main_container_1ad49_6",G="_not_found_title_1ad49_18",H="_not_found_text_1ad49_28",J="_redirect_link_1ad49_36",r={not_found_container:q,main_container:z,not_found_title:G,not_found_text:H,redirect_link:J},K=n=>i.createElement("svg",{width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},i.createElement("path",{d:"M32 40.4444V42.5556M32 21.4444V34.1111M51 32C51 42.4934 42.4934 51 32 51C21.5066 51 13 42.4934 13 32C13 21.5066 21.5066 13 32 13C42.4934 13 51 21.5066 51 32Z",stroke:"#070721",strokeWidth:2.3,strokeLinecap:"round"})),ee=({title:n,text:_,linkText:c,linkPath:t})=>e.jsx(e.Fragment,{children:e.jsx("div",{className:r.not_found_container,children:e.jsxs("div",{className:r.main_container,children:[e.jsxs("div",{children:[e.jsx(K,{}),e.jsx("h4",{className:r.not_found_title,children:n}),e.jsx("span",{className:r.not_found_text,children:_})]}),e.jsx(m,{to:t,className:r.redirect_link,children:c})]})})});export{Y as A,ee as N};
