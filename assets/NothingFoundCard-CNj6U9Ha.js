import{r as i,u as h,a as y,d as A,j as e,L as l,V as o}from"./index-RD6c-tk0.js";import{u as L,a as C,b as D,M as E,B as M}from"./useDeleteSavedArticle-CyyPuCUT.js";import{S as b}from"./camera-BIHqYd6I.js";const F="_card_container_ye0iu_1",B="_card_image_ye0iu_14",I="_unknown_image_ye0iu_22",T="_card_author_name_ye0iu_36",V="_card_title_ye0iu_44",U="_card_description_ye0iu_58",$="_card_button_container_ye0iu_72",R="_load_more_link_ye0iu_77",t={card_container:F,card_image:B,unknown_image:I,card_author_name:T,card_title:V,card_description:U,card_button_container:$,load_more_link:R},P=({article:n,isOwnArticle:_=!1})=>{const[c,s]=i.useState(!1),[g,u]=i.useState(!1),d=h(y),m=h(A),{saveArticle:x,isLoading:f}=L(),{deleteArticle:v,isLoading:j}=C(),{remove:k,isLoading:w}=D(),S=f||j;i.useEffect(()=>{s(m.some(a=>a===n._id))},[n._id,m]);const p=async()=>{if(!d){u(!0);return}try{c?(await v(d,n._id),s(!1),o.success("Removed from saved!")):(await x(d,n._id),s(!0),o.success("Saved!"))}catch(a){o.error("Something went wrong"),console.error(a)}},N=async()=>{try{await k(n._id),o.success("Article deleted!")}catch(a){console.error("Failed to delete:",a),o.error("Failed to delete article")}};return e.jsxs(e.Fragment,{children:[e.jsx(E,{isOpen:g,onClose:()=>u(!1)}),e.jsxs("div",{className:t.card_container,children:[n.image?e.jsx("img",{className:t.card_image,src:n.image,alt:n.desc}):e.jsx(b,{className:t.unknown_image}),e.jsxs("div",{children:[e.jsx(l,{to:`/authors/${n.ownerId}`,className:t.card_author_name,children:n?.author||"Unknown author"}),e.jsx("h3",{className:t.card_title,children:n.title}),e.jsx("p",{className:t.card_description,children:n.article})]}),e.jsxs("div",{className:t.card_button_container,children:[e.jsx(l,{className:t.load_more_link,to:`/articles/${n._id}`,children:"Learn more"}),e.jsx(M,{onToggle:p,isDisabled:S,isSaved:c,isOwnArticle:_,onDelete:N,isLoadingDelete:w})]})]})]})},O="_not_found_container_1ad49_1",W="_main_container_1ad49_6",Z="_not_found_title_1ad49_18",q="_not_found_text_1ad49_28",z="_redirect_link_1ad49_36",r={not_found_container:O,main_container:W,not_found_title:Z,not_found_text:q,redirect_link:z},G=n=>i.createElement("svg",{width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},i.createElement("path",{d:"M32 40.4444V42.5556M32 21.4444V34.1111M51 32C51 42.4934 42.4934 51 32 51C21.5066 51 13 42.4934 13 32C13 21.5066 21.5066 13 32 13C42.4934 13 51 21.5066 51 32Z",stroke:"#070721",strokeWidth:2.3,strokeLinecap:"round"})),Q=({title:n,text:_,linkText:c,linkPath:s})=>e.jsx(e.Fragment,{children:e.jsx("div",{className:r.not_found_container,children:e.jsxs("div",{className:r.main_container,children:[e.jsxs("div",{children:[e.jsx(G,{}),e.jsx("h4",{className:r.not_found_title,children:n}),e.jsx("span",{className:r.not_found_text,children:_})]}),e.jsx(l,{to:s,className:r.redirect_link,children:c})]})})});export{P as A,Q as N};
