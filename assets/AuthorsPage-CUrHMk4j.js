import{e as g,j as a,L as p,b as d,r as i}from"./index-DHh4YB8P.js";import{M as _,u as x}from"./useGetAllUsers-IA5HaULq.js";import{c as j}from"./photo-JblrDacA.js";import{S as v}from"./camera-CLg0r0Wx.js";import{u as N,P}from"./Pagination-W-A50mYt.js";import"./useLoader-CUwWdICU.js";const f="_wrapper_1lfme_3",k="_title_1lfme_10",w="_list_1lfme_20",A="_authorItem_1lfme_30",I="_avatar_1lfme_50",S="_unknown_avatar_1lfme_51",L="_name_1lfme_70",b="_name_m_1lfme_71",s={wrapper:f,title:k,list:w,authorItem:A,avatar:I,unknown_avatar:S,name:L,name_m:b},C=({id:n,name:t,avatar:e})=>{const o=g(),l=()=>{o(`/authors/${n}`)},m=t.length>_?t.slice(0,_)+"...":t,r=!!e;return a.jsxs("li",{className:s.authorItem,onClick:l,children:[r?a.jsx("img",{src:e,alt:t,className:s.avatar}):a.jsx("div",{className:s.unknown_avatar,children:a.jsx("img",{src:j,alt:"placeholder"})}),a.jsx("p",{className:s.name,children:m})]})},y=({authors:n,loading:t})=>n.length===0&&!t?a.jsxs(p,{to:"/",className:s.authorItem,children:[a.jsx(v,{className:s.unknown_avatar}),a.jsx("span",{className:s.name_m,children:"No authors available"})]}):a.jsx("ul",{className:s.list,children:n.map(e=>a.jsx(C,{id:e._id,name:e.name,avatar:e.avatarUrl},e._id))}),D=()=>{const[n]=d(),t=Number(n.get("page"))||1,e=Number(n.get("perPage"))||20,[o,l]=i.useState(t),[m]=i.useState(e),{users:r,paginationData:u,isLoading:c,queryParams:h}=x({page:o,perPage:m});return N(h),a.jsx("section",{className:s.wrapper,children:a.jsx("div",{className:"container",children:a.jsxs("div",{className:s.contentBlock,children:[a.jsx("h2",{className:s.title,children:"Authors"}),a.jsx(y,{authors:r,loading:c}),r&&r.length>0&&a.jsx(P,{page:o,totalPages:u?.totalPages,onPageChange:l,isLoading:c})]})})})};export{D as default};
