import{j as e,c as I,f as S,u as i,a as w,r as _,g as E,h as L,i as $,k as M,l as T,L as G,m as R}from"./index-RD6c-tk0.js";import{N as F}from"./NothingFoundCard-CNj6U9Ha.js";import{u as O,e as B}from"./editor-ChE1oEFA.js";import{A as D}from"./ArticlesList-DYOg7WXL.js";import"./useDeleteSavedArticle-CyyPuCUT.js";import"./articlesApi-B1hKs0HW.js";import"./useLoader-Bzxanm5z.js";import"./camera-BIHqYd6I.js";const V="_header_ncckm_8",W="_editIcon_ncckm_179",t={"author-profile":"_author-profile_ncckm_1",header:V,"author-profile__header":"_author-profile__header_ncckm_18","author-profile__avatar":"_author-profile__avatar_ncckm_26","author-profile__avatar-placeholder":"_author-profile__avatar-placeholder_ncckm_32","author-profile__name":"_author-profile__name_ncckm_45","author-profile__articles-amount":"_author-profile__articles-amount_ncckm_51","author-profile__load-more-btn":"_author-profile__load-more-btn_ncckm_100","author-profile__name-wrapper":"_author-profile__name-wrapper_ncckm_158","edit-profile-link":"_edit-profile-link_ncckm_164",editIcon:W},q="_active_19618_17",c={"author-profile__tabs":"_author-profile__tabs_19618_1","author-profile__tab-btn":"_author-profile__tab-btn_19618_6",active:q},m=12,a={all:"myArticles",saved:"mySavedArticles"},z=({setActiveTab:l,activeTab:s})=>e.jsxs("div",{className:c["author-profile__tabs"],children:[e.jsx("button",{className:`${c["author-profile__tab-btn"]} ${s===a.all?c.active:""}`,onClick:()=>l(a.all),disabled:s===a.all,children:"My Articles"}),e.jsx("button",{className:`${c["author-profile__tab-btn"]} ${s===a.saved?c.active:""}`,onClick:()=>l(a.saved),disabled:s===a.saved,children:"Saved Articles"})]}),te=()=>{const{id:l}=I(),s=S(),r=i(w)===l;_.useEffect(()=>{(async()=>{r&&await s(R())})()},[s,r]);const A=i(E),x=i(L),b=i($),k=i(M),j=i(T),[o,N]=_.useState(a.all),[U,p]=_.useState(m),{user:h,userArticles:g}=O(r?null:l),u=r?A:h?.name||"Unknown Author",f=r?x:h?.avatarUrl,y=r?j:h?.articlesAmount,v=o===a.all?r?b:g:k,d=v?.slice(0,U)||[],P=n=>{N(n)},C=()=>{p(n=>n+m)};return _.useEffect(()=>{p(m)},[o,l]),e.jsxs("section",{className:`container ${t["author-profile"]}`,children:[r&&e.jsx("h1",{className:t.header,children:"My profile"}),e.jsxs("div",{className:t["author-profile__header"],children:[f?e.jsx("img",{className:t["author-profile__avatar"],src:f,alt:u,width:100,height:100}):e.jsx("div",{className:t["author-profile__avatar-placeholder"],children:u?.charAt(0).toUpperCase()}),e.jsxs("div",{className:t["author-profile__name__articles-amount"],children:[e.jsxs("div",{className:t["author-profile__name-wrapper"],children:[e.jsx("h2",{className:t["author-profile__name"],children:u}),r&&e.jsx(G,{to:"/update-profile",className:t["edit-profile-link"],children:e.jsx("img",{src:B,alt:"Change photo",className:t.editIcon})})]}),e.jsxs("p",{className:t["author-profile__articles-amount"],children:["Articles: ",y]})]})]}),r&&e.jsx(z,{setActiveTab:P,activeTab:o}),d?.length===0?e.jsx(F,{title:"Nothing found.",text:r&&o===a.saved?"Save your first article":"Write your first article",linkText:r&&o===a.saved?"Go to articles":"Create an article",linkPath:r&&o===a.saved?"/articles":"/create"}):e.jsxs(e.Fragment,{children:[e.jsx(D,{articles:d,isOwnProfile:r&&o===a.all}),d.length<(v?.length||0)&&e.jsx("button",{className:t["author-profile__load-more-btn"],onClick:C,children:"Load More"})]})]})};export{te as default};
