import{f as h,j as a,L as p,g as d,r as m}from"./index-xz-e4_RC.js";import{S as x}from"./camera-DM_mPU7m.js";import{u as N}from"./useGetAllUsers-eUQHjSbo.js";import{u as j,P as v}from"./Pagination-CGec56Vj.js";import"./usersApi-D4LaL_vX.js";const w="_wrapper_10awu_3",P="_title_10awu_8",k="_list_10awu_16",f="_authorItem_10awu_26",A="_avatar_10awu_44",I="_unknown_avatar_10awu_52",S="_name_10awu_65",L="_name_m_10awu_79",s={wrapper:w,title:P,list:k,authorItem:f,avatar:A,unknown_avatar:I,name:S,name_m:L},u=18,C=({id:n,name:t,avatar:e})=>{const r=h(),o=()=>{r(`/authors/${n}`)},c=t.length>u?t.slice(0,u)+"...":t;return a.jsxs("li",{className:s.authorItem,onClick:o,children:[a.jsx("img",{src:e,alt:t,className:s.avatar}),a.jsx("p",{className:s.name,children:c})]})},b=({authors:n,loading:t})=>n.length===0&&!t?a.jsxs(p,{to:"/",className:s.authorItem,children:[a.jsx(x,{className:s.unknown_avatar}),a.jsx("span",{className:s.name_m,children:"No authors available"})]}):a.jsx("ul",{className:s.list,children:n.map(e=>a.jsx(C,{id:e._id,name:e.name,avatar:e.avatarUrl},e._id))}),B=()=>{const[n]=d(),t=Number(n.get("page"))||1,e=Number(n.get("perPage"))||20,[r,o]=m.useState(t),[c]=m.useState(e),{users:i,paginationData:_,isLoading:l,queryParams:g}=N({page:r,perPage:c});return j(g),a.jsx("section",{className:s.wrapper,children:a.jsx("div",{className:"container",children:a.jsxs("div",{className:s.contentBlock,children:[a.jsx("h2",{className:s.title,children:"Authors"}),a.jsx(b,{authors:i,loading:l}),i&&i.length>0&&a.jsx(v,{page:r,totalPages:_?.totalPages,onPageChange:o,isLoading:l})]})})})};export{B as default};
