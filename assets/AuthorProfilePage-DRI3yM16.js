import{j as e,h as E,a as i,d as L,i as $,k as I,m as w,n as M,o as T,r as u}from"./index-Cpfzcocm.js";import{N as F}from"./NothingFoundCard-GFJbnCzW.js";import{u as G}from"./useGetUserInfo-BCsjgs8b.js";import{A as R}from"./ArticlesList-1ul2sA8W.js";import"./articlesApi-D-uz60Ve.js";import"./useSaveArticle-Bki0tfW6.js";import"./usersApi-BApHoag-.js";import"./camera-DHkpgf4G.js";const O="_header_dvhjs_8",t={"author-profile":"_author-profile_dvhjs_1",header:O,"author-profile__header":"_author-profile__header_dvhjs_18","author-profile__avatar":"_author-profile__avatar_dvhjs_26","author-profile__avatar-placeholder":"_author-profile__avatar-placeholder_dvhjs_32","author-profile__name":"_author-profile__name_dvhjs_45","author-profile__articles-amount":"_author-profile__articles-amount_dvhjs_51","author-profile__load-more-btn":"_author-profile__load-more-btn_dvhjs_100"},B="_active_19618_17",c={"author-profile__tabs":"_author-profile__tabs_19618_1","author-profile__tab-btn":"_author-profile__tab-btn_19618_6",active:B},m=12,r={all:"myArticles",saved:"mySavedArticles"},V=({setActiveTab:o,activeTab:l})=>e.jsxs("div",{className:c["author-profile__tabs"],children:[e.jsx("button",{className:`${c["author-profile__tab-btn"]} ${l===r.all?c.active:""}`,onClick:()=>o(r.all),disabled:l===r.all,children:"My Articles"}),e.jsx("button",{className:`${c["author-profile__tab-btn"]} ${l===r.saved?c.active:""}`,onClick:()=>o(r.saved),disabled:l===r.saved,children:"Saved Articles"})]}),X=()=>{const{id:o}=E(),l=i(L),A=i($),j=i(I),x=i(w),b=i(M),N=i(T),a=l===o,[s,U]=u.useState(r.all),[g,p]=u.useState(m),{user:n,userArticles:y,isLoading:C}=G(o),_=a?A:n?.name||"Unknown Author",f=a?j:n?.avatarUrl,S=a?N:n?.articlesAmount,v=s===r.all?a?x:y:b,h=v?.slice(0,g)||[],P=d=>{U(d)},k=()=>{p(d=>d+m)};return u.useEffect(()=>{p(m)},[s,o]),e.jsxs("div",{className:`container ${t["author-profile"]}`,children:[a&&e.jsx("h1",{className:t.header,children:"My profile"}),e.jsxs("div",{className:t["author-profile__header"],children:[f?e.jsx("img",{className:t["author-profile__avatar"],src:f,alt:_,width:100,height:100}):e.jsx("div",{className:t["author-profile__avatar-placeholder"],children:_?.charAt(0).toUpperCase()}),e.jsxs("div",{className:t["author-profile__name__articles-amount"],children:[e.jsx("h2",{className:t["author-profile__name"],children:_}),e.jsxs("p",{className:t["author-profile__articles-amount"],children:["Articles: ",S]})]})]}),a&&e.jsx(V,{setActiveTab:P,activeTab:s}),C?e.jsx("p",{className:t["author-profile__loading"],children:"Loading articles..."}):e.jsx(e.Fragment,{children:h?.length===0?e.jsx(F,{title:"Nothing found.",text:a&&s===r.saved?"Save your first article":"Write your first article",linkText:a&&s===r.saved?"Go to articles":"Create an article",linkPath:a&&s===r.saved?"/articles":"/create"}):e.jsxs(e.Fragment,{children:[e.jsx(R,{articles:h,isOwnProfile:a&&s===r.all}),h.length<(v?.length||0)&&e.jsx("button",{className:t["author-profile__load-more-btn"],onClick:k,children:"Load More"})]})})]})};export{X as default};
