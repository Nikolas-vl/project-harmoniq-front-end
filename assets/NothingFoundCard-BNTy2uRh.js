import{r as c,u as h,a as A,d as L,j as e,L as l,V as a}from"./index-Br6ym3h2.js";import{u as C,a as D,b as E,M,B as b}from"./useDeleteSavedArticle-DiavHMHi.js";import{S as F}from"./camera-CXsrc7bA.js";const y="_card_container_1ve24_1",B="_card_image_1ve24_14",I="_unknown_image_1ve24_23",T="_card_author_name_1ve24_38",V="_card_title_1ve24_46",U="_card_description_1ve24_60",$="_card_button_container_1ve24_75",R="_load_more_link_1ve24_83",t={card_container:y,card_image:B,unknown_image:I,card_author_name:T,card_title:V,card_description:U,card_button_container:$,load_more_link:R},P=({article:n,isOwnArticle:_=!1})=>{const[i,s]=c.useState(!1),[g,m]=c.useState(!1),d=h(A),u=h(L),{saveArticle:v,isLoading:x}=C(),{deleteArticle:f,isLoading:j}=D(),{remove:k,isLoading:w}=E(),S=x||j;c.useEffect(()=>{s(u.some(o=>o===n._id))},[n._id,u]);const p=async()=>{if(!d){m(!0);return}try{i?(await f(d,n._id),s(!1),a.success("Removed from saved!")):(await v(d,n._id),s(!0),a.success("Saved!"))}catch(o){a.error("Something went wrong"),console.error(o)}},N=async()=>{try{await k(n._id),a.success("Article deleted!")}catch(o){console.error("Failed to delete:",o),a.error("Failed to delete article")}};return e.jsxs(e.Fragment,{children:[e.jsx(M,{isOpen:g,onClose:()=>m(!1)}),e.jsxs("div",{className:t.card_container,children:[n.image?e.jsx("img",{className:t.card_image,src:n.image,alt:n.desc}):e.jsx(F,{className:t.unknown_image}),e.jsxs("div",{children:[e.jsx(l,{to:`/authors/${n.ownerId}`,className:t.card_author_name,children:n?.author||"Unknown author"}),e.jsx("h3",{className:t.card_title,children:n.title}),e.jsx("p",{className:t.card_description,children:n.article})]}),e.jsxs("div",{className:t.card_button_container,children:[e.jsx(l,{className:t.load_more_link,to:`/articles/${n._id}`,children:"Learn more"}),e.jsx(b,{onToggle:p,isDisabled:S,isSaved:i,isOwnArticle:_,onDelete:N,isLoadingDelete:w})]})]})]})},O="_not_found_container_1mum5_1",W="_main_container_1mum5_7",Z="_not_found_title_1mum5_20",q="_not_found_text_1mum5_30",z="_redirect_link_1mum5_38",r={not_found_container:O,main_container:W,not_found_title:Z,not_found_text:q,redirect_link:z},G=n=>c.createElement("svg",{width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},c.createElement("path",{d:"M32 40.4444V42.5556M32 21.4444V34.1111M51 32C51 42.4934 42.4934 51 32 51C21.5066 51 13 42.4934 13 32C13 21.5066 21.5066 13 32 13C42.4934 13 51 21.5066 51 32Z",stroke:"#070721",strokeWidth:2.3,strokeLinecap:"round"})),Q=({title:n,text:_,linkText:i,linkPath:s})=>e.jsx(e.Fragment,{children:e.jsx("div",{className:r.not_found_container,children:e.jsxs("div",{className:r.main_container,children:[e.jsxs("div",{children:[e.jsx(G,{}),e.jsx("h4",{className:r.not_found_title,children:n}),e.jsx("span",{className:r.not_found_text,children:_})]}),e.jsx(l,{to:s,className:r.redirect_link,children:i})]})})});export{P as A,Q as N};
