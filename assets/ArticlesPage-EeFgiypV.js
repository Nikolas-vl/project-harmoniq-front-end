import{j as t,a as q,r as s}from"./index-BG8wwY2l.js";import{u as L,P as S}from"./Pagination-C4ACukhg.js";import{A as C}from"./ArticlesList-BCSiDUfs.js";/* empty css                  */import{u as k}from"./useGetArticles-CM6zD6aY.js";import{N as v}from"./NothingFoundCard-Czs9ArkD.js";import"./articlesApi-DcFvgPLd.js";import"./useLoader-DGXBDpni.js";import"./useDeleteSavedArticle-BZOGKyKk.js";import"./camera-B7VPI2Ck.js";const B="_section_18q3o_1",E="_header_18q3o_5",b="_totalArticles_18q3o_14",y="_dropdown_18q3o_30",F="_dropdownButton_18q3o_35",O="_arrow_18q3o_50",R="_open_18q3o_56",$="_dropdownList_18q3o_60",e={section:B,header:E,totalArticles:b,dropdown:y,dropdownButton:F,arrow:O,open:R,dropdownList:$},I=({children:n})=>t.jsx("h1",{style:{fontWeight:700,fontSize:"40px",color:"#000"},children:n}),U=()=>{const[n]=q(),h=Number(n.get("page"))||1,g=Number(n.get("perPage"))||12,[l,_]=s.useState(h),[x]=s.useState(g),[d,w]=s.useState(null),{articles:r,isLoading:p,pagination:a,queryParams:f}=k({page:l,perPage:x,filter:d});L(f);const P=!a||r.length===0,[u,i]=s.useState(!1),c=s.useRef(null),j=()=>i(o=>!o),m=o=>{w(o),i(!1)},N=d==="popular"?"Popular":"All";return s.useEffect(()=>{const o=A=>{c.current&&!c.current.contains(A.target)&&i(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[]),t.jsxs("section",{className:`container ${e.section}`,children:[t.jsx(I,{children:"Articles"}),t.jsxs("div",{className:e.header,children:[t.jsxs("p",{className:e.totalArticles,children:[a?.totalItems||0," articles"]}),t.jsxs("div",{className:e.dropdown,ref:c,children:[t.jsxs("button",{onClick:j,className:e.dropdownButton,children:[N," ",t.jsx("span",{className:`${e.arrow} ${u?e.open:""}`,children:">"})]}),u&&t.jsxs("ul",{className:e.dropdownList,children:[t.jsx("li",{onClick:()=>m("all"),children:"All"}),t.jsx("li",{onClick:()=>m("popular"),children:"Popular"})]})]})]}),P?t.jsx(v,{title:"Nothing found.",text:"Be the first, who creates an article",linkText:"Create an article",linkPath:"/create"}):t.jsxs(t.Fragment,{children:[t.jsx(C,{articles:r,isLoading:p,pagination:a}),r&&r.length>0&&t.jsx(S,{page:l,totalPages:a?.totalPages,onPageChange:_,isLoading:p})]})]})};export{U as default};
