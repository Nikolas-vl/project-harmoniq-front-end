import{r,a as C,d as L,j as e,V as g}from"./index-CzEKo1oi.js";import{u as T}from"./useGetAllUsers-rzXm2mHI.js";import{u as D}from"./useGetUserInfo-DA_eidKL.js";import{u as N}from"./useSaveArticle-Rwf5YMV8.js";import{T as k}from"./TestNav-DC3wv7p4.js";import"./usersApi-ExC5rd8l.js";const W=()=>{const[h,d]=r.useState(1),[o,u]=r.useState(20),c=C(L),{users:x,isLoading:p,paginationData:t}=T(h,o),[l,j]=r.useState(""),[n,m]=r.useState(""),[a,v]=r.useState(""),[I,U]=r.useState(""),{user:i,userArticles:f,isLoading:y}=D(I),{saveArticle:A,isLoading:b}=N(),S=async()=>{if(!(!l||!n))try{await A(l,n),g.success("Article saved!")}catch{g.error("Error saving article.")}},P=()=>{a&&U(a)};return e.jsxs("div",{style:{padding:"1rem"},children:[e.jsx(k,{}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"1rem",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[e.jsx("input",{placeholder:"User ID",value:l,onChange:s=>j(s.target.value)}),e.jsx("input",{placeholder:"Article ID",value:n,onChange:s=>m(s.target.value)}),e.jsx("button",{onClick:S,disabled:b,children:"Save Article"})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[e.jsx("input",{placeholder:"User ID",value:a,onChange:s=>v(s.target.value)}),e.jsx("button",{onClick:P,disabled:!a,children:"Get User By ID"})]})]}),e.jsxs("p",{children:["Ur user id is ",c||"ur not loggin"]}),e.jsxs("div",{style:{marginTop:"2rem"},children:[e.jsxs("details",{children:[e.jsxs("summary",{style:{fontWeight:"bold"},children:["All Users (page ",t?.page||1," of"," ",t?.totalPages||1,")"]}),p?e.jsx("p",{children:"Loading users..."}):e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:x.map(s=>e.jsxs("li",{children:[s.name," (",s._id,")"]},s._id))}),e.jsxs("div",{style:{marginTop:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("button",{onClick:()=>d(s=>Math.max(s-1,1)),disabled:!t?.hasPreviousPage,children:"Prev"}),e.jsxs("label",{children:["Users per page:"," ",e.jsx("select",{value:o,onChange:s=>u(Number(s.target.value)),children:[6,12,24,48].map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsx("button",{onClick:()=>d(s=>Math.min(s+1,t?.totalPages||s+1)),disabled:!t?.hasNextPage,children:"Next"})]})]})]}),e.jsx("h3",{children:"User Info"}),y?e.jsx("p",{children:"Loading user info..."}):i&&e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",i.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Saved:"})," ",Array.isArray(i.saved)?i.saved.join(", "):""]}),e.jsx("h4",{children:"Articles:"}),e.jsx("ul",{children:f.map(s=>e.jsx("li",{children:s.title},s._id))})]})]})]})};export{W as default};
