import{f as p,j as s,r as e}from"./index-D6ax6jOQ.js";import{g as x}from"./usersApi-Bg8W-uK9.js";const f="_wrapper_1gc32_5",A="_title_1gc32_11",j="_list_1gc32_19",N="_authorItem_1gc32_29",v="_avatar_1gc32_48",M="_name_1gc32_56",E="_loadMore_1gc32_66",w="_noAuthors_1gc32_88",t={wrapper:f,title:A,list:j,authorItem:N,avatar:v,name:M,loadMore:E,noAuthors:w},I=({id:r,name:o,avatar:c})=>{const n=p(),l=()=>{n(`/authors/${r}`)};return s.jsxs("li",{className:t.authorItem,onClick:l,children:[s.jsx("img",{src:c,alt:o,className:t.avatar}),s.jsx("p",{className:t.name,children:o})]})},g=20,S=()=>{const[r,o]=e.useState([]),[c,n]=e.useState(1),[l,u]=e.useState(!0),[i,d]=e.useState(!1),_=async()=>{try{d(!0);const a=await x({page:c,perPage:g}),m=Array.isArray(a.data.users)?a.data.users:[];o(h=>[...h,...m]),m.length<g&&u(!1),n(h=>h+1)}catch(a){console.error("Error fetching authors:",a),u(!1)}finally{d(!1)}};return e.useEffect(()=>{_()},[]),s.jsx("section",{className:t.wrapper,children:s.jsx("div",{className:"container",children:s.jsxs("div",{className:t.contentBlock,children:[s.jsx("h2",{className:t.title,children:"Authors"}),r.length===0&&!i?s.jsx("p",{className:t.noAuthors,children:"No authors available"}):s.jsx("ul",{className:t.list,children:r.map(a=>s.jsx(I,{id:a._id,name:a.name,avatar:a.avatarUrl},a._id))}),l&&s.jsx("button",{className:t.loadMore,onClick:_,disabled:i,children:i?"Loading...":"Load More"})]})})})};export{S as default};
