import{e as g,j as a,L as p,b as d,r as m}from"./index-C8CqPXNM.js";import{M as _,u as x}from"./useGetAllUsers-CnQZjnP0.js";import{c as j}from"./photo-JblrDacA.js";import{S as v}from"./camera-4d7oKAva.js";import{u as N,P}from"./Pagination-PKp3ub5F.js";import"./useLoader-BEY_Eakx.js";const k="_wrapper_16a52_3",w="_title_16a52_8",f="_list_16a52_18",A="_authorItem_16a52_28",I="_avatar_16a52_48",S="_unknown_avatar_16a52_49",L="_name_16a52_68",b="_name_m_16a52_69",s={wrapper:k,title:w,list:f,authorItem:A,avatar:I,unknown_avatar:S,name:L,name_m:b},C=({id:n,name:e,avatar:t})=>{const o=g(),c=()=>{o(`/authors/${n}`)},i=e.length>_?e.slice(0,_)+"...":e,r=!!t;return a.jsxs("li",{className:s.authorItem,onClick:c,children:[r?a.jsx("img",{src:t,alt:e,className:s.avatar}):a.jsx("div",{className:s.unknown_avatar,children:a.jsx("img",{src:j,alt:"placeholder"})}),a.jsx("p",{className:s.name,children:i})]})},y=({authors:n,loading:e})=>n.length===0&&!e?a.jsxs(p,{to:"/",className:s.authorItem,children:[a.jsx(v,{className:s.unknown_avatar}),a.jsx("span",{className:s.name_m,children:"No authors available"})]}):a.jsx("ul",{className:s.list,children:n.map(t=>a.jsx(C,{id:t._id,name:t.name,avatar:t.avatarUrl},t._id))}),D=()=>{const[n]=d(),e=Number(n.get("page"))||1,t=Number(n.get("perPage"))||20,[o,c]=m.useState(e),[i]=m.useState(t),{users:r,paginationData:u,isLoading:l,queryParams:h}=x({page:o,perPage:i});return N(h),a.jsx("section",{className:s.wrapper,children:a.jsx("div",{className:"container",children:a.jsxs("div",{className:s.contentBlock,children:[a.jsx("h2",{className:s.title,children:"Authors"}),a.jsx(y,{authors:r,loading:l}),r&&r.length>0&&a.jsx(P,{page:o,totalPages:u?.totalPages,onPageChange:c,isLoading:l})]})})})};export{D as default};
