import{j as e,c as C,f as w,u as c,a as I,r as d,g as S,h as E,i as L,k as $,l as M,L as T,m as z}from"./index-C8CqPXNM.js";import{N as G}from"./NothingFoundCard-CMUeMxzF.js";import{u as R,e as F}from"./editor-ZavxK6Cj.js";import{A as O}from"./ArticlesList-BuxaK-t9.js";import"./useDeleteSavedArticle-CI8UGLYw.js";import"./articlesApi-HpjL1G9M.js";import"./useLoader-BEY_Eakx.js";import"./camera-4d7oKAva.js";const B="_header_qkmq6_8",D="_editIcon_qkmq6_203",r={"author-profile":"_author-profile_qkmq6_1",header:B,"author-profile__header":"_author-profile__header_qkmq6_18","author-profile__avatar":"_author-profile__avatar_qkmq6_29","author-profile__avatar-placeholder":"_author-profile__avatar-placeholder_qkmq6_35","author-profile__name":"_author-profile__name_qkmq6_48","author-profile__articles-amount":"_author-profile__articles-amount_qkmq6_54","author-profile__load-more-btn":"_author-profile__load-more-btn_qkmq6_104","author-profile__name-wrapper":"_author-profile__name-wrapper_qkmq6_164","author-profile__header-link":"_author-profile__header-link_qkmq6_170","edit-profile-link":"_edit-profile-link_qkmq6_183",editIcon:D},V="_active_ekz9o_17",n={"author-profile__tabs":"_author-profile__tabs_ekz9o_1","author-profile__tab-btn":"_author-profile__tab-btn_ekz9o_6",active:V},p=12,t={all:"myArticles",saved:"mySavedArticles"},W=({setActiveTab:l,activeTab:s})=>e.jsxs("div",{className:n["author-profile__tabs"],children:[e.jsx("button",{className:`${n["author-profile__tab-btn"]} ${s===t.all?n.active:""}`,onClick:()=>l(t.all),disabled:s===t.all,children:"My Articles"}),e.jsx("button",{className:`${n["author-profile__tab-btn"]} ${s===t.saved?n.active:""}`,onClick:()=>l(t.saved),disabled:s===t.saved,children:"Saved Articles"})]}),ae=()=>{const{id:l}=C(),s=w(),a=c(I)===l;d.useEffect(()=>{(async()=>{a&&await s(z())})()},[s,a]);const A=c(S),j=c(E),k=c(L),N=c($),q=c(M),[o,b]=d.useState(t.all),[U,f]=d.useState(p),{user:u,userArticles:g}=R(a?null:l),i=a?A:u?.name||"Unknown Author",_=a?j:u?.avatarUrl,v=a?q:u?.articlesAmount,x=o===t.all?a?k:g:N,m=x?.slice(0,U)||[],y=h=>{b(h)},P=()=>{f(h=>h+p)};return d.useEffect(()=>{f(p)},[o,l]),e.jsxs("section",{className:`container ${r["author-profile"]}`,children:[a&&e.jsx("h1",{className:r.header,children:"My profile"}),a?e.jsx(T,{to:"/update-profile",className:r["author-profile__header-link"],children:e.jsxs("div",{className:r["author-profile__header"],children:[_?e.jsx("img",{className:r["author-profile__avatar"],src:_,alt:i,width:100,height:100}):e.jsx("div",{className:r["author-profile__avatar-placeholder"],children:i?.charAt(0).toUpperCase()}),e.jsxs("div",{className:r["author-profile__name__articles-amount"],children:[e.jsx("div",{className:r["author-profile__name-wrapper"],children:e.jsx("h2",{className:r["author-profile__name"],children:i})}),e.jsxs("p",{className:r["author-profile__articles-amount"],children:["Articles: ",v]})]}),e.jsx("div",{className:r["edit-profile-link"],children:e.jsx("img",{src:F,alt:"Edit profile",className:r.editIcon})})]})}):e.jsxs("div",{className:r["author-profile__header"],children:[_?e.jsx("img",{className:r["author-profile__avatar"],src:_,alt:i,width:100,height:100}):e.jsx("div",{className:r["author-profile__avatar-placeholder"],children:i?.charAt(0).toUpperCase()}),e.jsxs("div",{className:r["author-profile__name__articles-amount"],children:[e.jsx("div",{className:r["author-profile__name-wrapper"],children:e.jsx("h2",{className:r["author-profile__name"],children:i})}),e.jsxs("p",{className:r["author-profile__articles-amount"],children:["Articles: ",v]})]})]}),a&&e.jsx(W,{setActiveTab:y,activeTab:o}),m?.length===0?e.jsx(G,{title:"Nothing found.",text:a&&o===t.saved?"Save your first article":"Write your first article",linkText:a&&o===t.saved?"Go to articles":"Create an article",linkPath:a&&o===t.saved?"/articles":"/create"}):e.jsxs(e.Fragment,{children:[e.jsx(O,{articles:m,isOwnProfile:a&&o===t.all}),m.length<(x?.length||0)&&e.jsx("button",{className:r["author-profile__load-more-btn"],onClick:P,children:"Load More"})]})]})};export{ae as default};
