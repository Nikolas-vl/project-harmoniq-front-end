import{f as g,j as a,L as p,a as d,r as m}from"./index-JqV-lfkm.js";import{M as _,u as x}from"./useGetAllUsers-D8uGv5gy.js";import{c as j}from"./photo-JblrDacA.js";import{S as v}from"./camera-B7Vrsb9I.js";import{u as N,P}from"./Pagination-BOt5QInR.js";import"./useLoader-B9WKt1t7.js";const b="_wrapper_ib6l4_3",k="_title_ib6l4_8",w="_list_ib6l4_16",f="_authorItem_ib6l4_26",A="_avatar_ib6l4_44",I="_unknown_avatar_ib6l4_52",S="_name_ib6l4_67",L="_name_m_ib6l4_81",s={wrapper:b,title:k,list:w,authorItem:f,avatar:A,unknown_avatar:I,name:S,name_m:L},C=({id:n,name:e,avatar:t})=>{const i=g(),o=()=>{i(`/authors/${n}`)},l=e.length>_?e.slice(0,_)+"...":e,r=!!t;return a.jsxs("li",{className:s.authorItem,onClick:o,children:[r?a.jsx("img",{src:t,alt:e,className:s.avatar}):a.jsx("div",{className:s.unknown_avatar,children:a.jsx("img",{src:j,alt:"placeholder"})}),a.jsx("p",{className:s.name,children:l})]})},y=({authors:n,loading:e})=>n.length===0&&!e?a.jsxs(p,{to:"/",className:s.authorItem,children:[a.jsx(v,{className:s.unknown_avatar}),a.jsx("span",{className:s.name_m,children:"No authors available"})]}):a.jsx("ul",{className:s.list,children:n.map(t=>a.jsx(C,{id:t._id,name:t.name,avatar:t.avatarUrl},t._id))}),D=()=>{const[n]=d(),e=Number(n.get("page"))||1,t=Number(n.get("perPage"))||20,[i,o]=m.useState(e),[l]=m.useState(t),{users:r,paginationData:u,isLoading:c,queryParams:h}=x({page:i,perPage:l});return N(h),a.jsx("section",{className:s.wrapper,children:a.jsx("div",{className:"container",children:a.jsxs("div",{className:s.contentBlock,children:[a.jsx("h2",{className:s.title,children:"Authors"}),a.jsx(y,{authors:r,loading:c}),r&&r.length>0&&a.jsx(P,{page:i,totalPages:u?.totalPages,onPageChange:o,isLoading:c})]})})})};export{D as default};
