import{k as C,a as s,d as P,m as k,n as L,o as M,p as S,q as E,r as h,j as e}from"./index-DEUg0kep.js";import{N as I}from"./NothingFoundCard-b1qsOQPb.js";import{u as $}from"./useGetUserInfo-XmQsRKAH.js";import{A as F}from"./ArticlesList-ufgF25-L.js";import"./articlesApi-mfRGR4Rs.js";import"./useSaveArticle-DXUILipn.js";import"./usersApi-BJW85QLg.js";import"./camera-DWiAhP8M.js";const T="_header_9lh58_8",w="_active_9lh58_75",a={"author-profile":"_author-profile_9lh58_1",header:T,"author-profile__header":"_author-profile__header_9lh58_18","author-profile__avatar":"_author-profile__avatar_9lh58_26","author-profile__avatar-placeholder":"_author-profile__avatar-placeholder_9lh58_32","author-profile__name":"_author-profile__name_9lh58_45","author-profile__articles-amount":"_author-profile__articles-amount_9lh58_51","author-profile__tabs":"_author-profile__tabs_9lh58_57","author-profile__tab-btn":"_author-profile__tab-btn_9lh58_63",active:w,"author-profile__load-more-btn":"_author-profile__load-more-btn_9lh58_123"},d=12,J=()=>{const{id:l}=C(),t=s(P)===l,A=s(k),b=s(L),x=s(M),j=s(S),o=s(E),{user:i,userArticles:g,isLoading:N}=$(t?null:l),c=t?A:i?.name,u=t?b:i?.avatarUrl,y=t?x:i?.articlesAmount,[r,m]=h.useState("my"),[p,f]=h.useState(d),n=r==="my"?t?j:g:t?o:[],_=n?.slice(0,p)||[],v=()=>{f(U=>U+d)};return h.useEffect(()=>{f(d)},[r,l]),e.jsxs("div",{className:`container ${a["author-profile"]}`,children:[t&&e.jsx("h1",{className:a.header,children:"My profile"}),e.jsxs("div",{className:a["author-profile__header"],children:[u?e.jsx("img",{className:a["author-profile__avatar"],src:u,alt:c,width:100,height:100}):e.jsx("div",{className:a["author-profile__avatar-placeholder"],children:c?.charAt(0).toUpperCase()}),e.jsxs("div",{className:a["author-profile__name__articles-amount"],children:[e.jsx("h2",{className:a["author-profile__name"],children:c}),e.jsxs("p",{className:a["author-profile__articles-amount"],children:["Articles: ",y]})]})]}),t&&e.jsxs("div",{className:a["author-profile__tabs"],children:[e.jsx("button",{className:`${a["author-profile__tab-btn"]} ${r==="my"?a.active:""}`,onClick:()=>m("my"),disabled:r==="my",children:"My Articles"}),e.jsx("button",{className:`${a["author-profile__tab-btn"]} ${r==="saved"?a.active:""}`,onClick:()=>m("saved"),disabled:r==="saved",children:"Saved Articles"})]}),N?e.jsx("p",{className:a["author-profile__loading"],children:"Loading articles..."}):e.jsx(e.Fragment,{children:n?.length===0?e.jsx(e.Fragment,{children:e.jsx(I,{title:"Nothing found.",text:t&&r==="saved"?"Save your first article":"Write your first article",linkText:t&&r==="saved"?"Go to articles":"Create an article",linkPath:t&&r==="saved"?"/articles":"/create"})}):e.jsxs(e.Fragment,{children:[e.jsx(F,{articles:t&&r==="saved"?o?.slice(0,p):_,isOwnProfile:t&&r==="my",activeTab:r}),_.length<(n?.length||0)&&r==="my"&&e.jsx("button",{className:a["author-profile__load-more-btn"],onClick:v,children:"Load More"}),t&&r==="saved"&&o?.length>_.length&&e.jsx("button",{className:a["author-profile__load-more-btn"],onClick:v,children:"Load More"})]})})]})};export{J as default};
