import{r as _,a as u,d as N,g as L,j as s,L as m,V as x}from"./index-B5RJ0QI6.js";import{u as y}from"./useSaveArticle-CqJE99UA.js";import{d as k,g as C}from"./usersApi-DZj5MjJL.js";import{u as S}from"./useGetPopularArticles-CQru6CUO.js";/* empty css                  */import"./articlesApi-BV6d_WdY.js";const $="_card_container_6tbcs_5",B="_card_image_6tbcs_18",T="_card_author_name_6tbcs_25",A="_card_title_6tbcs_32",I="_card_description_6tbcs_40",F="_card_button_container_6tbcs_53",P="_load_more_link_6tbcs_58",U="_save_button_6tbcs_73",E="_saved_button_6tbcs_87",R="_save_svg_6tbcs_93",l={card_container:$,card_image:B,card_author_name:T,card_title:A,card_description:I,card_button_container:F,load_more_link:P,save_button:U,saved_button:E,save_svg:R},V=()=>{const[e,o]=_.useState(!1);return{deleteArticle:async(r,n)=>{o(!0);try{await k(r,n)}catch(i){console.error("Failed to delete saved article:",i)}finally{o(!1)}},isLoading:e}},M=({article:e,isBeingLoaded:o})=>{const t=u(N),r=u(L),[n,i]=_.useState(!1),{saveArticle:h,isLoading:p}=y(),{deleteArticle:f,isLoading:b}=V();_.useEffect(()=>{i(r.some(g=>g===e._id))},[e._id,r]);const w=async()=>{if(!t){x.error("You must be logged in to save!");return}try{n?(await f(t,e._id),i(!1),x.success("Removed from saved!")):(await h(t,e._id),i(!0),x.success("Saved!"))}catch(g){x.error("Something went wrong"),console.error(g)}};return o?s.jsx("p",{children:"✋Loading...✋"}):s.jsxs("div",{className:l.card_container,children:[s.jsx("img",{className:l.card_image,src:e.img,alt:e.desc}),s.jsxs("div",{children:[s.jsx("p",{className:l.card_author_name,children:e?.author||"Unknown author"}),s.jsx("h3",{className:l.card_title,children:e.title}),s.jsx("p",{className:l.card_description,children:e.article})]}),s.jsxs("div",{className:l.card_button_container,children:[s.jsx(m,{className:l.load_more_link,to:`/articles/${e._id}`,children:"Learn more"}),s.jsx("button",{onClick:w,disabled:p||b,className:`${l.save_button} ${n?l.saved_button:""}`,children:p||b?s.jsx("p",{style:{fontSize:"8px",margin:0},children:"Wait...✋"}):s.jsx("svg",{className:l.save_svg,width:"14",height:"17",viewBox:"0 0 14 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M6.99707 0.5C8.26074 0.500006 9.42058 0.620914 10.3398 0.760742C11.5036 0.937767 12.416 1.7353 12.6758 2.84961C12.9894 4.19485 13.2969 6.24141 13.2441 8.99023C13.1859 12.0233 12.7432 14.2117 12.3164 15.6396C12.201 16.0256 11.9339 16.2243 11.6318 16.2754C11.316 16.3287 10.9263 16.2236 10.6094 15.9082C10.0326 15.334 9.37193 14.7138 8.7627 14.2344C8.45865 13.9951 8.15576 13.7817 7.875 13.626C7.61014 13.4791 7.29955 13.3457 6.99707 13.3457C6.69934 13.3457 6.37833 13.4769 6.09766 13.6211C5.79864 13.7747 5.4675 13.9855 5.12891 14.2246C4.45038 14.7037 3.69895 15.3244 3.03711 15.8994C2.68779 16.2029 2.27644 16.2747 1.95215 16.1865C1.63917 16.1013 1.37522 15.8609 1.29395 15.4424C1.01488 14.0044 0.75 11.8805 0.75 9C0.75 6.12652 1.04615 4.09969 1.34082 2.79492C1.58505 1.71356 2.4671 0.943748 3.60156 0.768555C4.52893 0.625347 5.70912 0.5 6.99707 0.5Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})},W="_list_g4d8g_1",z={list:W},D=()=>{const[e,o]=_.useState(4),{articles:t,isLoading:r}=S(e);return _.useEffect(()=>{const n=()=>{const i=window.innerWidth;o(i>=1440?3:4)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),r?s.jsx("p",{children:"✋Loading...✋"}):s.jsx("ul",{className:z.list,children:t.slice(0,e).map((n,i)=>s.jsx("li",{children:s.jsx(M,{article:n,isBeingLoaded:r})},i))})},v="data:image/svg+xml,%3csvg%20width='17'%20height='16'%20id='redirect-logo'%20viewBox='0%200%2017%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1.375%2015.125L15.6195%200.875M15.6195%200.875H7.94796M15.6195%200.875L15.6196%208.5466'%20stroke='%23374F42'%20stroke-linecap='round'%20stroke-linejoin='round'%20/%3e%3c/svg%3e",O="_section_container_s8l8y_1",q="_section_link_svg_container_s8l8y_6",G="_section_title_s8l8y_12",H="_redirect_link_s8l8y_20",Y="_svg_s8l8y_31",Q="_section_title_link_container_s8l8y_36",c={section_container:O,section_link_svg_container:q,section_title:G,redirect_link:H,svg:Y,section_title_link_container:Q},J=()=>s.jsx(s.Fragment,{children:s.jsx("section",{className:c.section_container,id:"popular-articles",children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:c.section_title_link_container,children:[s.jsx("h2",{className:c.section_title,children:"Popular Articles"}),s.jsx("div",{className:c.section_link_svg_container,children:s.jsxs(m,{className:c.redirect_link,to:"/articles",children:["Go to all Articles",s.jsx("img",{src:v,alt:"Redirect icon",className:c.svg})]})})]}),s.jsx(D,{})]})})}),K="_section_container_lo1jh_1",X={section_container:K},Z="_card_container_1warf_1",ss="_card_image_1warf_10",es="_author_name_1warf_17",j={card_container:Z,card_image:ss,author_name:es},ts=({users:e})=>s.jsxs(m,{to:`/authors/${e._id}`,className:j.card_container,children:[s.jsx("img",{className:j.card_image,src:e.avatarUrl,alt:e.name}),s.jsx("span",{className:j.author_name,children:e.name})]}),ns="_list_841jj_1",os={list:ns},rs=(e=3)=>{const[o,t]=_.useState([]),[r,n]=_.useState(!1);return _.useEffect(()=>{(async()=>{n(!0);try{const h=await C(e);t(h.data.data.users)}catch(h){console.error("Failed to fetch users:",h)}finally{n(!1)}})()},[e]),{users:o,isLoading:r}},as=()=>{const{users:e,isLoading:o}=rs(6);return o?s.jsx("p",{children:"✋Loading...✋"}):s.jsx("ul",{className:os.list,children:e.map((t,r)=>s.jsx("li",{children:s.jsx(ts,{users:t})},r))})},cs=()=>s.jsx(s.Fragment,{children:s.jsx("section",{className:X.section_container,children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:c.section_title_link_container,children:[s.jsx("h2",{className:c.section_title,children:"Top Creators"}),s.jsx("div",{className:c.section_link_svg_container,children:s.jsxs(m,{className:c.redirect_link,to:"/authors",children:["Go to all Creators",s.jsx("img",{src:v,alt:"Redirect icon",className:c.svg})]})})]}),s.jsx(as,{})]})})}),is="_hero_1of6e_1",ls="_heroImage_1of6e_10",ds="_heroTitle_1of6e_22",_s="_heroTitleSpan_1of6e_32",ms="_buttons_1of6e_36",hs="_articlesBtn_1of6e_44",xs="_registerBtn_1of6e_67",us="_heroInner_1of6e_97",gs="_content_1of6e_148",d={hero:is,heroImage:ls,heroTitle:ds,heroTitleSpan:_s,buttons:ms,articlesBtn:hs,registerBtn:xs,heroInner:us,content:gs},js=()=>{const e=u(t=>t.auth.isLoggedIn),o=u(t=>t.auth.user.id);return s.jsx("section",{className:d.hero,children:s.jsx("div",{className:"container",children:s.jsxs("div",{className:d.heroInner,children:[s.jsx("div",{className:d.heroImage}),s.jsxs("div",{className:d.content,children:[s.jsxs("h1",{className:d.heroTitle,children:[" ","Find your ",s.jsx("span",{className:d.heroTitleSpan,children:"harmony"})," in community"]}),s.jsxs("div",{className:d.buttons,children:[s.jsx("a",{href:"#popular-articles",className:d.articlesBtn,children:"Go to Articles"}),e?s.jsx(m,{to:`/authors/${o}`,className:d.registerBtn,children:"My profile"}):s.jsx(m,{to:"/register",className:d.registerBtn,children:"Register"})]})]})]})})})},ps="_desktopOnly_ljmb1_1",bs="_about_ljmb1_5",vs="_content_ljmb1_10",fs="_textLotos_ljmb1_16",ws="_textBox_ljmb1_22",Ns="_aboutTitle_ljmb1_30",Ls="_aboutText_ljmb1_38",ys="_picturesList_ljmb1_66",a={desktopOnly:ps,about:bs,content:vs,textLotos:fs,textBox:ws,aboutTitle:Ns,aboutText:Ls,picturesList:ys},ks="/assets/lotos-BuFLVdvU.webp",Cs="/assets/lotos@2x-Btrb29hx.webp",Ss="/assets/lotos-tab-B-OS1Q-m.webp",$s="/assets/lotos-tab@2x-DWEqBz90.webp",Bs="/assets/lotos-tel-DzftKVwL.webp",Ts="/assets/lotos-tel@2x-DSF4IYvY.webp",As="/assets/friends-j-mn_MTT.webp",Is="/assets/friends@2x-BEi6FRc2.webp",Fs="/assets/friends-tab-BVYHqVPT.webp",Ps="/assets/friends-tab@2x-BF9Vpm6q.webp",Us="/assets/friends-tel-DSdLBvE8.webp",Es="/assets/friends-tel@2x-QP1OwATy.webp",Rs="/assets/yoga-L9cqJ3Ar.webp",Vs="/assets/yoga@2x-DMN7X9Rl.webp",Ms=()=>s.jsx("section",{className:a.about,children:s.jsx("div",{className:"container",children:s.jsxs("div",{className:a.content,children:[s.jsxs("div",{className:a.textLotos,children:[s.jsxs("div",{className:a.textBox,children:[s.jsx("h2",{className:a.aboutTitle,children:"About us"}),s.jsx("p",{className:a.aboutText,children:"Harmoniq is a mindful publishing platform dedicated to mental health and well-being. We bring together writers, thinkers, and readers who believe that open, thoughtful stories can heal, inspire, and connect. Whether you're here to share your journey or learn from others — this is your space to slow down, reflect, and grow."})]}),s.jsx("div",{className:a.lotosWrap,children:s.jsxs("picture",{children:[s.jsx("source",{srcSet:`${ks} 1x, ${Cs} 2x`,media:"(min-width: 1440px)"}),s.jsx("source",{srcSet:`${Ss} 1x, ${$s} 2x`,media:"(min-width: 768px)"}),s.jsx("source",{srcSet:`${Bs} 1x, ${Ts} 2x`,media:"(max-width: 767px)"}),s.jsx("img",{src:"../../assets/img/lotos.webp",alt:"Lotos"})]})})]}),s.jsxs("ul",{className:a.picturesList,children:[s.jsx("li",{className:a.picturesListItem,children:s.jsxs("picture",{children:[s.jsx("source",{srcSet:`${As} 1x, ${Is} 2x`,media:"(min-width: 1440px)"}),s.jsx("source",{srcSet:`${Fs} 1x, ${Ps} 2x`,media:"(min-width: 768px)"}),s.jsx("source",{srcSet:`${Us} 1x, ${Es} 2x`,media:"(max-width: 767px)"}),s.jsx("img",{src:"../../assets/img/friends.webp",alt:"Friends"})]})}),s.jsx("li",{className:a.picturesListItem+" "+a.desktopOnly,children:s.jsxs("picture",{children:[s.jsx("source",{srcSet:`${Rs} 1x, ${Vs} 2x`,media:"(min-width: 1440px)"}),s.jsx("img",{src:"/img/yoga.webp",alt:"Yoga"})]})})]})]})})}),Hs=()=>s.jsxs(s.Fragment,{children:[s.jsx(js,{}),s.jsx(Ms,{}),s.jsx(J,{}),s.jsx(cs,{})]});export{Hs as default};
