import{u,f as F,r as x,j as e,L,l as n,V as l}from"./index-IMWjn_sD.js";import{F as b,c as j,d as w,e as t,E as c,b as m}from"./index.esm-C3SrsFpH.js";import{e as N,a as v}from"./eye-crossed-Dmo-NlkL.js";const k="_loginForm_1ofbo_1",y="_h1LoginForm_1ofbo_36",P="_loginFormFields_1ofbo_43",R="_fieldWrapper_1ofbo_67",W="_inputWrapper_1ofbo_75",E="_labelLoginForm_1ofbo_82",S="_inputLoginForm_1ofbo_89",q="_seePass_1ofbo_102",B="_loginBtn_1ofbo_136",O="_askOfRegister_1ofbo_180",T="_linkToRegister_1ofbo_188",V="_errorLogin_1ofbo_194",s={loginForm:k,h1LoginForm:y,loginFormFields:P,fieldWrapper:R,inputWrapper:W,labelLoginForm:E,inputLoginForm:S,seePass:q,loginBtn:B,askOfRegister:O,linkToRegister:T,errorLogin:V},A=j({email:m().email("Invalid email").required("Email is required"),password:m().min(6,"At least 6 characters").required("Password is required")}),C=()=>{const d=u(),g=F(),[r,p]=x.useState(!1),h={email:"",password:""},_=async(a,{setSubmitting:i,setErrors:f})=>{try{const o=await d(n(a));n.fulfilled.match(o)?g("/"):n.rejected.match(o)&&(f({password:"Invalid email or password"}),l.error("Login failed. Please check your credentials."))}catch(o){console.error("Unexpected error during login",o),l.error("Something went wrong. Please try again later.")}finally{i(!1)}};return e.jsxs("div",{className:s.loginForm,children:[e.jsx("h1",{className:s.h1LoginForm,children:"Login"}),e.jsx(b,{initialValues:h,validationSchema:A,onSubmit:_,children:({isSubmitting:a})=>e.jsxs(w,{noValidate:!0,className:s.loginFormFields,children:[e.jsxs("div",{className:s.fieldWrapper,children:[e.jsx("label",{className:s.labelLoginForm,children:"Enter your email address"}),e.jsx(t,{name:"email",type:"email",className:s.inputLoginForm,placeholder:"email@gmail.com"}),e.jsx(c,{name:"email",component:"div",className:s.errorLogin})]}),e.jsxs("div",{className:s.fieldWrapper,children:[e.jsx("label",{className:s.labelLoginForm,children:"Enter a password"}),e.jsxs("div",{className:s.inputWrapper,children:[e.jsx("span",{onClick:()=>p(i=>!i),className:s.seePass,children:e.jsx("img",{src:r?N:v,alt:r?"Show password":"Hide password",width:24,height:24})}),e.jsx(t,{name:"password",type:r?"text":"password",className:s.inputLoginForm,placeholder:"*********"})]}),e.jsx(c,{name:"password",component:"div",className:s.errorLogin})]}),e.jsx("button",{type:"submit",disabled:a,className:s.loginBtn,children:"Login"})]})}),e.jsx("div",{children:e.jsxs("p",{className:s.askOfRegister,children:["Don't have an account?"," ",e.jsxs(L,{to:"/register",className:s.linkToRegister,children:[" ","Register"]})]})})]})},H=()=>e.jsx("section",{children:e.jsx(C,{})});export{H as default};
