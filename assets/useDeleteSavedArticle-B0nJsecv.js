import{r as n,f as v,j as e}from"./index-XO0uIroG.js";import{d as g}from"./articlesApi-BC70aSh3.js";import{s as h,d as p}from"./useLoader-arCYaz70.js";const _="_overlay_c61rp_1",m="_content_c61rp_12",x="_errorTitle_c61rp_22",C="_icon_c61rp_29",w="_textModalWrapper_c61rp_35",j="_btns_c61rp_40",k="_loginBtn_c61rp_45",f="_registerBtn_c61rp_56",c={overlay:_,content:m,errorTitle:x,icon:C,textModalWrapper:w,btns:j,loginBtn:k,registerBtn:f},A=({isOpen:r,onClose:t})=>{n.useEffect(()=>{const s=d=>{d.key==="Escape"&&t()};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[t]);const l=v();if(!r)return null;const o=()=>{l("/login")},a=()=>{l("/register")},i=s=>{s.target===s.currentTarget&&t()};return e.jsx("div",{className:c.overlay,onClick:i,children:e.jsxs("div",{className:c.content,children:[e.jsx("button",{onClick:t,children:e.jsx("svg",{className:c.icon,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M5.25 5.25L12 12M12 12L5.25 18.75M12 12L18.75 18.75M12 12L18.75 5.25",stroke:"#070721",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsxs("div",{className:c.textModalWrapper,children:[e.jsx("h2",{className:c.errorTitle,children:"Error while saving"}),e.jsx("p",{className:c.errorText,children:"To save this article, you need to authorize first"}),e.jsxs("div",{className:c.btns,children:[e.jsx("button",{onClick:o,className:c.loginBtn,children:"Login"}),e.jsx("button",{onClick:a,className:c.registerBtn,children:"Register"})]})]})]})})},L="_save_button_x6qpj_7",b="_saved_button_x6qpj_23",u={save_button:L,saved_button:b},B=r=>n.createElement("svg",{width:40,height:40,viewBox:"0 0 41 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},n.createElement("rect",{x:1,y:1.4043,width:39,height:39,rx:19.5,stroke:"currentBorder",fill:"transparent"}),n.createElement("path",{d:"M20.4971 12.4043C21.7607 12.4043 22.9206 12.5252 23.8398 12.665C25.0036 12.8421 25.916 13.6396 26.1758 14.7539C26.4894 16.0991 26.7969 18.1457 26.7441 20.8945C26.6859 23.9276 26.2432 26.1159 25.8164 27.5439C25.701 27.9299 25.4339 28.1286 25.1318 28.1797C24.816 28.233 24.4263 28.1279 24.1094 27.8125C23.5326 27.2383 22.8719 26.6181 22.2627 26.1387C21.9586 25.8994 21.6558 25.686 21.375 25.5303C21.1101 25.3834 20.7995 25.25 20.4971 25.25C20.1993 25.25 19.8783 25.3812 19.5977 25.5254C19.2986 25.679 18.9675 25.8898 18.6289 26.1289C17.9504 26.608 17.1989 27.2287 16.5371 27.8037C16.1878 28.1072 15.7764 28.179 15.4521 28.0908C15.1392 28.0056 14.8752 27.7652 14.7939 27.3467C14.5149 25.9087 14.25 23.7848 14.25 20.9043C14.25 18.0308 14.5461 16.004 14.8408 14.6992C15.085 13.6179 15.9671 12.848 17.1016 12.6729C18.0289 12.5296 19.2091 12.4043 20.4971 12.4043Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),y=r=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1,...r},n.createElement("path",{d:"M3.03919 4.2939C3.01449 4.10866 3.0791 3.92338 3.23133 3.81499C3.9272 3.31953 6.3142 2 12 2C17.6858 2 20.0728 3.31952 20.7687 3.81499C20.9209 3.92338 20.9855 4.10866 20.9608 4.2939L19.2616 17.0378C19.0968 18.2744 18.3644 19.3632 17.2813 19.9821L16.9614 20.1649C13.8871 21.9217 10.1129 21.9217 7.03861 20.1649L6.71873 19.9821C5.6356 19.3632 4.90325 18.2744 4.73838 17.0378L3.03919 4.2939Z"}),n.createElement("path",{d:"M3 5C5.57143 7.66666 18.4286 7.66662 21 5"})),T=({onToggle:r,isDisabled:t,isSaved:l,isOwnArticle:o,onDelete:a,isLoadingDelete:i,styles:s="",text:d})=>o?e.jsx("button",{onClick:a,disabled:i,className:s||u.save_button,children:i?e.jsx("span",{className:"loading"}):e.jsx(y,{})}):e.jsx("button",{onClick:r,disabled:t,className:s||`${u.save_button} ${l?u.saved_button:""}`,children:t?e.jsx("span",{className:"loading"}):e.jsxs(e.Fragment,{children:[d," ",e.jsx(B,{})]})}),S=()=>{const[r,t]=n.useState(!1);return{remove:async o=>{t(!0);try{await g(o)}catch(a){console.error("Failed to delete article:",a)}finally{t(!1)}},isLoading:r}},F=()=>{const[r,t]=n.useState(!1);return{saveArticle:async(o,a)=>{t(!0);try{await h(o,a)}catch(i){console.error("Failed to save article:",i)}finally{t(!1)}},isLoading:r}},W=()=>{const[r,t]=n.useState(!1);return{deleteArticle:async(o,a)=>{t(!0);try{await p(o,a)}catch(i){console.error("Failed to delete saved article:",i)}finally{t(!1)}},isLoading:r}};export{T as B,A as M,W as a,S as b,F as u};
