import{j as e,b as I,u as i,s as P,g as w,h as E,i as L,k as $,l as M,r as d,L as T}from"./index-JqV-lfkm.js";import{N as G}from"./NothingFoundCard-CSh_fLP0.js";import{u as R,e as F}from"./editor-EK94G52U.js";import{A as O}from"./ArticlesList-n3kr2cBX.js";import"./useDeleteSavedArticle-CkeH4ZIs.js";import"./articlesApi-pm-CoWD0.js";import"./useLoader-B9WKt1t7.js";import"./camera-B7Vrsb9I.js";const B="_header_ncckm_8",V="_editIcon_ncckm_179",r={"author-profile":"_author-profile_ncckm_1",header:B,"author-profile__header":"_author-profile__header_ncckm_18","author-profile__avatar":"_author-profile__avatar_ncckm_26","author-profile__avatar-placeholder":"_author-profile__avatar-placeholder_ncckm_32","author-profile__name":"_author-profile__name_ncckm_45","author-profile__articles-amount":"_author-profile__articles-amount_ncckm_51","author-profile__load-more-btn":"_author-profile__load-more-btn_ncckm_100","author-profile__name-wrapper":"_author-profile__name-wrapper_ncckm_158","edit-profile-link":"_edit-profile-link_ncckm_164",editIcon:V},W="_active_19618_17",c={"author-profile__tabs":"_author-profile__tabs_19618_1","author-profile__tab-btn":"_author-profile__tab-btn_19618_6",active:W},m=12,t={all:"myArticles",saved:"mySavedArticles"},q=({setActiveTab:o,activeTab:l})=>e.jsxs("div",{className:c["author-profile__tabs"],children:[e.jsx("button",{className:`${c["author-profile__tab-btn"]} ${l===t.all?c.active:""}`,onClick:()=>o(t.all),disabled:l===t.all,children:"My Articles"}),e.jsx("button",{className:`${c["author-profile__tab-btn"]} ${l===t.saved?c.active:""}`,onClick:()=>o(t.saved),disabled:l===t.saved,children:"Saved Articles"})]}),Z=()=>{const{id:o}=I(),l=i(P),A=i(w),x=i(E),b=i(L),k=i($),j=i(M),a=l===o,[s,N]=d.useState(t.all),[U,p]=d.useState(m),{user:n,userArticles:g}=R(o),_=a?A:n?.name||"Unknown Author",f=a?x:n?.avatarUrl,y=a?j:n?.articlesAmount,v=s===t.all?a?b:g:k,h=v?.slice(0,U)||[],C=u=>{N(u)},S=()=>{p(u=>u+m)};return d.useEffect(()=>{p(m)},[s,o]),e.jsxs("section",{className:`container ${r["author-profile"]}`,children:[a&&e.jsx("h1",{className:r.header,children:"My profile"}),e.jsxs("div",{className:r["author-profile__header"],children:[f?e.jsx("img",{className:r["author-profile__avatar"],src:f,alt:_,width:100,height:100}):e.jsx("div",{className:r["author-profile__avatar-placeholder"],children:_?.charAt(0).toUpperCase()}),e.jsxs("div",{className:r["author-profile__name__articles-amount"],children:[e.jsxs("div",{className:r["author-profile__name-wrapper"],children:[e.jsx("h2",{className:r["author-profile__name"],children:_}),a&&e.jsx(T,{to:"/update-profile",className:r["edit-profile-link"],children:e.jsx("img",{src:F,alt:"Change photo",className:r.editIcon})})]}),e.jsxs("p",{className:r["author-profile__articles-amount"],children:["Articles: ",y]})]})]}),a&&e.jsx(q,{setActiveTab:C,activeTab:s}),h?.length===0?e.jsx(G,{title:"Nothing found.",text:a&&s===t.saved?"Save your first article":"Write your first article",linkText:a&&s===t.saved?"Go to articles":"Create an article",linkPath:a&&s===t.saved?"/articles":"/create"}):e.jsxs(e.Fragment,{children:[e.jsx(O,{articles:h,isOwnProfile:a&&s===t.all}),h.length<(v?.length||0)&&e.jsx("button",{className:r["author-profile__load-more-btn"],onClick:S,children:"Load More"})]})]})};export{Z as default};
