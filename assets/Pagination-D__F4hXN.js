import{a as m,r as c,j as l}from"./index-CdXHPANt.js";const _=e=>{const[,n]=m();c.useEffect(()=>{const o=new URLSearchParams(window.location.search);let a=!1;const t=new URLSearchParams(o.toString());Object.entries(e).forEach(([s,r])=>{r==null?t.has(s)&&(t.delete(s),a=!0):t.get(s)!==String(r)&&(t.set(s,String(r)),a=!0)}),a&&n(t)},[e,n])},f="_paginationContainer_16xsa_1",x="_navBtn_16xsa_18",g="_pageBtn_16xsa_42",p="_active_16xsa_64",h={paginationContainer:f,navBtn:x,pageBtn:g,active:p},w=e=>c.createElement("svg",{width:16,height:10,viewBox:"0 0 16 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M15.4981 4.99992L0.500833 5.0028M0.500833 5.0028L4.53855 9.04196M0.500833 5.0028L4.53855 0.963602",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),v=e=>c.createElement("svg",{width:16,height:10,viewBox:"0 0 16 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("path",{d:"M0.499908 5.00277L15.4972 4.99989M15.4972 4.99989L11.4595 0.96073M15.4972 4.99989L11.4595 9.03908",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})),b=(e,n)=>{const[o,a]=c.useState(e);return c.useEffect(()=>{const t=setTimeout(()=>{a(e)},n);return()=>{clearTimeout(t)}},[e,n]),o};function j(e,n,o){const a=Math.floor(o/2);let t=Math.max(1,e-a),s=t+o-1;s>n&&(s=n,t=Math.max(1,s-o+1));const r=[];for(let u=t;u<=s;u++)r.push(u);return r}const E=({page:e,totalPages:n,onPageChange:o,isLoading:a})=>{const[t,s]=c.useState(e);c.useEffect(()=>{s(e)},[e]);const r=b(t,1e3);if(c.useEffect(()=>{r!==e&&o(r)},[r,e,o]),n<=1)return null;const u=n<5?n:5,d=j(t,n,u);return l.jsxs("div",{className:h.paginationContainer,children:[l.jsx("button",{className:h.navBtn,onClick:()=>s(i=>Math.max(i-1,1)),disabled:t===1||a,children:a?l.jsx("span",{className:"loading"}):l.jsx(w,{})}),d.map(i=>l.jsx("button",{className:`${h.pageBtn} ${i===t?h.active:""}`,onClick:()=>s(i),disabled:i===t||a,children:i},i)),l.jsx("button",{className:h.navBtn,onClick:()=>s(i=>Math.min(i+1,n)),disabled:t===n||a,children:a?l.jsx("span",{className:"loading"}):l.jsx(v,{})})]})};export{E as P,_ as u};
