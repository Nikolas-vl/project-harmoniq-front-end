import{f as j,u as N,r as u,j as e,L as v,b as P,V as k}from"./index-D6ax6jOQ.js";import{u as S,c as B,b as l,f as M}from"./index.esm-D_Kjk1mh.js";const q="_form_ynxff_1",E="_title_ynxff_32",R="_title__ynxff_38",T="_label_ynxff_46",W="_input_ynxff_55",L="_button_ynxff_77",F="_footerText_ynxff_109",V="_link_ynxff_114",$="_error_ynxff_124",H="_passwordWrapper_ynxff_130",I="_toggleButton_ynxff_136",Z="_errorContainer_ynxff_147",s={form:q,title:E,title_:R,label:T,input:W,button:L,footerText:F,link:V,error:$,passwordWrapper:H,toggleButton:I,errorContainer:Z},w="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.7404%208.93179C8.15584%208.93179%205.25%2012.3977%205.25%2013.2784C5.25%2014.1591%208.15584%2017.625%2011.7404%2017.625C15.3249%2017.625%2018.2308%2014.1591%2018.2308%2013.2784C18.2308%2012.3977%2015.3249%208.93179%2011.7404%208.93179ZM11.7404%208.93179C10.1632%208.93179%208.88464%2010.191%208.88464%2011.7443C8.88464%2013.2976%2010.1632%2014.5568%2011.7404%2014.5568C13.3176%2014.5568%2014.5962%2013.2976%2014.5962%2011.7443C14.5962%2010.191%2013.3176%208.93179%2011.7404%208.93179ZM18.75%208.93182C16.7731%207.30753%2014.4652%206.375%2012%206.375C9.53482%206.375%207.22688%207.30753%205.25%208.93182'%20stroke='%23070721'%20stroke-linecap='round'/%3e%3c/svg%3e",x="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.4107%2016.9874C13.5963%2017.3656%2012.6923%2017.6118%2011.7405%2017.6118C8.15598%2017.6118%205.25017%2014.1207%205.25017%2013.2337C5.25017%2012.7308%206.18382%2011.3914%207.6455%2010.3253M17.452%2014.6368C17.9487%2014.0392%2018.2308%2013.51%2018.2308%2013.2337C18.2308%2012.3466%2015.325%208.85553%2011.7405%208.85553C13.3177%208.85553%2014.5962%2010.1239%2014.5962%2011.6884M11.7405%2014.5214C10.1633%2014.5214%208.88472%2013.253%208.88472%2011.6884M18.75%208.85562C16.7732%207.21954%2014.4653%206.28025%2012.0001%206.28025C11.1116%206.28025%2010.2435%206.40227%209.40397%206.63496M5.25017%208.85562C5.43341%208.70396%205.6195%208.5583%205.8083%208.41881M5.25%205.25005L17.7856%2017.9062'%20stroke='%23070721'%20stroke-linecap='round'/%3e%3c/svg%3e",A=B({name:l().min(2,"Name must be at least 2 characters").max(32,"Name must be at most 32 characters").required("Name is required"),email:l().email("Invalid email").max(64,"Email must be at most 64 characters").required("Email is required"),password:l().min(8,"Password must be at least 8 characters").max(64,"Password must be at most 64 characters").required("Password is required"),confirmPassword:l().oneOf([M("password")],"Passwords must match").required("Confirm your password")}),D=()=>{const f=j(),g=N(),[c,C]=u.useState(!1),[m,_]=u.useState(!1),[p,h]=u.useState(!1),b=S({initialValues:{name:"",email:"",password:"",confirmPassword:""},validationSchema:A,onSubmit:async r=>{h(!0);try{const d={name:r.name,email:r.email,password:r.password};await g(P(d)).unwrap(),f("/upload-photo")}catch(d){k.error(d.message||"Registration failed")}finally{h(!1)}}}),{values:t,errors:a,touched:o,handleChange:n,handleSubmit:y,handleBlur:i}=b;return e.jsxs("form",{onSubmit:y,className:s.form,children:[e.jsx("h2",{className:s.title,children:"Register"}),e.jsx("h3",{className:s.title_,children:"Join our community of mindfulness and wellbeing!"}),e.jsxs("label",{className:s.label,children:["Enter your name",e.jsx("input",{type:"text",name:"name",placeholder:"Max",value:t.name,onChange:n,onBlur:i,className:s.input}),e.jsx("div",{className:s.errorContainer,children:o.name&&a.name&&e.jsx("span",{className:s.error,children:a.name})})]}),e.jsxs("label",{className:s.label,children:["Enter your email address",e.jsx("input",{type:"email",name:"email",placeholder:"email@gmail.com",value:t.email,onChange:n,onBlur:i,className:s.input}),e.jsx("div",{className:s.errorContainer,children:o.email&&a.email&&e.jsx("span",{className:s.error,children:a.email})})]}),e.jsxs("label",{className:s.label,children:["Create a strong password",e.jsxs("div",{className:s.passwordWrapper,children:[e.jsx("input",{type:c?"text":"password",name:"password",placeholder:"*********",value:t.password,onChange:n,onBlur:i,className:s.input}),e.jsx("button",{type:"button",className:s.toggleButton,onClick:()=>C(r=>!r),"aria-label":"Toggle password visibility",children:e.jsx("img",{src:c?x:w,alt:c?"Hide password":"Show password",width:"24",height:"24"})})]}),e.jsx("div",{className:s.errorContainer,children:o.password&&a.password&&e.jsx("span",{className:s.error,children:a.password})})]}),e.jsxs("label",{className:s.label,children:["Repeat your password",e.jsxs("div",{className:s.passwordWrapper,children:[e.jsx("input",{type:m?"text":"password",name:"confirmPassword",placeholder:"*********",value:t.confirmPassword,onChange:n,onBlur:i,className:s.input}),e.jsx("button",{type:"button",className:s.toggleButton,onClick:()=>_(r=>!r),"aria-label":"Toggle confirm password visibility",children:e.jsx("img",{src:m?x:w,alt:m?"Hide password":"Show password",width:"24",height:"24"})})]}),e.jsx("div",{className:s.errorContainer,children:o.confirmPassword&&a.confirmPassword&&e.jsx("span",{className:s.error,children:a.confirmPassword})})]}),e.jsx("button",{type:"submit",className:s.button,disabled:p,children:p?"Creating...":"Create account"}),e.jsxs("p",{className:s.footerText,children:["Already have an account?"," ",e.jsx(v,{to:"/login",className:s.link,children:"Log in"})]})]})},z=()=>e.jsx(e.Fragment,{children:e.jsx(D,{})});export{z as default};
