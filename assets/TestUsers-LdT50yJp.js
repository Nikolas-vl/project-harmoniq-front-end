import{r,a as C,d as L,j as e,V as g}from"./index-CdisTONt.js";import{u as T,a as D,b as N}from"./useSaveArticle-BLiPxFZC.js";import{T as k}from"./TestNav-DOiqZm1V.js";import"./usersApi-Cw1Qhnak.js";const M=()=>{const[h,d]=r.useState(1),[c,x]=r.useState(20),o=C(L),{users:u,isLoading:p,paginationData:a}=T(h,c),[i,j]=r.useState(""),[n,m]=r.useState(""),[t,v]=r.useState(""),[I,U]=r.useState(""),{user:l,userArticles:f,isLoading:y}=D(I),{saveArticle:b,isLoading:A}=N(),S=async()=>{if(!(!i||!n))try{await b(i,n),g.success("Article saved!")}catch{g.error("Error saving article.")}},P=()=>{t&&U(t)};return e.jsxs("div",{style:{padding:"1rem"},children:[e.jsx(k,{}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"1rem",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[e.jsx("input",{placeholder:"User ID",value:i,onChange:s=>j(s.target.value)}),e.jsx("input",{placeholder:"Article ID",value:n,onChange:s=>m(s.target.value)}),e.jsx("button",{onClick:S,disabled:A,children:"Save Article"})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[e.jsx("input",{placeholder:"User ID",value:t,onChange:s=>v(s.target.value)}),e.jsx("button",{onClick:P,disabled:!t,children:"Get User By ID"})]})]}),e.jsxs("p",{children:["Ur user id is ",o||"ur not loggin"]}),e.jsxs("div",{style:{marginTop:"2rem"},children:[e.jsxs("details",{children:[e.jsxs("summary",{style:{fontWeight:"bold"},children:["All Users (page ",a?.page||1," of"," ",a?.totalPages||1,")"]}),p?e.jsx("p",{children:"Loading users..."}):e.jsxs(e.Fragment,{children:[e.jsx("ul",{children:u.map(s=>e.jsxs("li",{children:[s.name," (",s._id,")"]},s._id))}),e.jsxs("div",{style:{marginTop:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("button",{onClick:()=>d(s=>Math.max(s-1,1)),disabled:!a?.hasPreviousPage,children:"Prev"}),e.jsxs("label",{children:["Users per page:"," ",e.jsx("select",{value:c,onChange:s=>x(Number(s.target.value)),children:[6,12,24,48].map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsx("button",{onClick:()=>d(s=>Math.min(s+1,a?.totalPages||s+1)),disabled:!a?.hasNextPage,children:"Next"})]})]})]}),e.jsx("h3",{children:"User Info"}),y?e.jsx("p",{children:"Loading user info..."}):l&&e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",l.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Saved:"})," ",Array.isArray(l.saved)?l.saved.join(", "):""]}),e.jsx("h4",{children:"Articles:"}),e.jsx("ul",{children:f.map(s=>e.jsx("li",{children:s.title},s._id))})]})]})]})};export{M as default};
