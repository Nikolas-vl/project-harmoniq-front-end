import{j as e,L as w,k as M,a as s,d as L,m as P,n as E,o as S,p as I,q as $,r as u}from"./index--Li--3xp.js";import{u as z}from"./useGetUserInfo-BIaBpuR_.js";import{A as F}from"./ArticlesList-BprXvVu_.js";import"./usersApi-BGv1Urdy.js";import"./PopularArticleCard-BwNQS27B.js";import"./articlesApi-Do6laUDj.js";import"./useSaveArticle-plwomvfJ.js";const T="_header_9lh58_8",G="_active_9lh58_75",a={"author-profile":"_author-profile_9lh58_1",header:T,"author-profile__header":"_author-profile__header_9lh58_18","author-profile__avatar":"_author-profile__avatar_9lh58_26","author-profile__avatar-placeholder":"_author-profile__avatar-placeholder_9lh58_32","author-profile__name":"_author-profile__name_9lh58_45","author-profile__articles-amount":"_author-profile__articles-amount_9lh58_51","author-profile__tabs":"_author-profile__tabs_9lh58_57","author-profile__tab-btn":"_author-profile__tab-btn_9lh58_63",active:G,"author-profile__load-more-btn":"_author-profile__load-more-btn_9lh58_123"},R="_main_container_kxzlu_1",V="_not_found_title_kxzlu_13",O="_not_found_text_kxzlu_23",q="_redirect_link_kxzlu_31",l={main_container:R,not_found_title:V,not_found_text:O,redirect_link:q},B="data:image/svg+xml,%3csvg%20width='64'%20height='64'%20id='alert-logo'%20viewBox='0%200%2064%2064'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M32%2040.4444V42.5556M32%2021.4444V34.1111M51%2032C51%2042.4934%2042.4934%2051%2032%2051C21.5066%2051%2013%2042.4934%2013%2032C13%2021.5066%2021.5066%2013%2032%2013C42.4934%2013%2051%2021.5066%2051%2032Z'%20stroke='%23070721'%20stroke-width='2'%20stroke-linecap='round'%20/%3e%3c/svg%3e",W=({title:o,text:p,linkText:t,linkPath:i})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:l.main_container,children:[e.jsxs("div",{children:[e.jsx("img",{src:B,alt:"Exclamation mark in the centre of circle"}),e.jsx("h4",{className:l.not_found_title,children:o}),e.jsx("span",{className:l.not_found_text,children:p})]}),e.jsx(w,{to:i,className:l.redirect_link,children:t})]})}),m=12,ee=()=>{const{id:o}=M(),t=s(L)===o,i=s(P),A=s(E),b=s(S),N=s(I),n=s($),{user:c,userArticles:k,isLoading:y}=z(t?null:o),_=t?i:c?.name,f=t?A:c?.avatarUrl,C=t?b:c?.articlesAmount,[r,v]=u.useState("my"),[x,g]=u.useState(m),d=r==="my"?t?N:k:t?n:[],h=d?.slice(0,x)||[],j=()=>{g(U=>U+m)};return u.useEffect(()=>{g(m)},[r,o]),e.jsxs("div",{className:`container ${a["author-profile"]}`,children:[t&&e.jsx("h1",{className:a.header,children:"My profile"}),e.jsxs("div",{className:a["author-profile__header"],children:[f?e.jsx("img",{className:a["author-profile__avatar"],src:f,alt:_,width:100,height:100}):e.jsx("div",{className:a["author-profile__avatar-placeholder"],children:_?.charAt(0).toUpperCase()}),e.jsxs("div",{className:a["author-profile__name__articles-amount"],children:[e.jsx("h2",{className:a["author-profile__name"],children:_}),e.jsxs("p",{className:a["author-profile__articles-amount"],children:["Articles: ",C]})]})]}),t&&e.jsxs("div",{className:a["author-profile__tabs"],children:[e.jsx("button",{className:`${a["author-profile__tab-btn"]} ${r==="my"?a.active:""}`,onClick:()=>v("my"),disabled:r==="my",children:"My Articles"}),e.jsx("button",{className:`${a["author-profile__tab-btn"]} ${r==="saved"?a.active:""}`,onClick:()=>v("saved"),disabled:r==="saved",children:"Saved Articles"})]}),y?e.jsx("p",{className:a["author-profile__loading"],children:"Loading articles..."}):e.jsx(e.Fragment,{children:d?.length===0?e.jsx(W,{title:"Nothing found.",text:t&&r==="saved"?"Save your first article":"Write your first article",linkText:t&&r==="saved"?"Go to articles":"Create an article",linkPath:t&&r==="saved"?"/articles":"/create"}):e.jsxs(e.Fragment,{children:[e.jsx(F,{articles:t&&r==="saved"?n?.slice(0,x):h,isOwnProfile:t&&r==="my",activeTab:r}),h.length<(d?.length||0)&&r==="my"&&e.jsx("button",{className:a["author-profile__load-more-btn"],onClick:j,children:"Load More"}),t&&r==="saved"&&n?.length>h.length&&e.jsx("button",{className:a["author-profile__load-more-btn"],onClick:j,children:"Load More"})]})})]})};export{ee as default};
