import{r as x,j as e}from"./index-raGifK_u.js";import{u as j,a as u}from"./useGetArticleById-CX7xhmcx.js";import{T as y}from"./TestNav-IEpUrm2G.js";import"./articlesApi-D5rQHR67.js";function f(s,r,n=5){const o=Math.floor(n/2);let c=Math.max(1,s-o),d=c+n-1;d>r&&(d=r,c=Math.max(1,d-n+1));const i=[];for(let a=c;a<=d;a++)i.push(a);return i}const P=()=>{const[s,r]=x.useState(1),[n,o]=x.useState(12),{articles:c,pagination:d,isLoading:i}=j(s,n),[a,p]=x.useState(""),{article:l,isLoading:g}=u(a),h=d?.totalPages||1,m=f(s,h,5);return e.jsxs("div",{style:{padding:"1rem"},children:[e.jsx(y,{}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"1rem",alignItems:"center",flexWrap:"wrap",marginBottom:"1rem"},children:[e.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[e.jsx("input",{placeholder:"Article ID",value:a,onChange:t=>p(t.target.value)}),e.jsx("button",{disabled:!a.trim(),children:"Get Article By ID"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("button",{onClick:()=>r(t=>Math.max(t-1,1)),disabled:s===1||i,children:"Prev"}),m.map(t=>e.jsx("button",{onClick:()=>r(t),disabled:t===s||i,style:{fontWeight:t===s?"bold":"normal",padding:"6px 10px"},children:t},t)),e.jsx("button",{onClick:()=>r(t=>Math.min(t+1,h)),disabled:s===h||i,children:"Next"}),e.jsxs("label",{style:{marginLeft:"1rem"},children:["Per page:"," ",e.jsx("select",{value:n,onChange:t=>{o(Number(t.target.value)),r(1)},disabled:i,children:[6,12,24,48].map(t=>e.jsx("option",{value:t,children:t},t))})]})]})]}),e.jsxs("div",{children:[i?e.jsx("p",{children:"Loading articles..."}):e.jsxs("details",{children:[e.jsx("summary",{style:{fontWeight:"bold"},children:"All Articles"}),e.jsx("ul",{children:c.map(t=>e.jsxs("li",{children:[e.jsxs("p",{children:[" ",t.title]}),e.jsx("p",{children:t._id})]},t._id||t.title))})]}),e.jsx("h3",{children:"Selected Article"}),g?e.jsx("p",{children:"Loading article..."}):l&&e.jsxs("details",{style:{marginTop:"1rem"},children:[e.jsx("summary",{style:{fontWeight:"bold",cursor:"pointer"},children:l.title}),e.jsxs("div",{style:{marginTop:"0.5rem"},children:[e.jsx("img",{src:l.img,alt:l.title,style:{maxWidth:"100%",height:"auto",marginBottom:"1rem"}}),e.jsxs("p",{children:[e.jsx("strong",{children:"Description:"})," ",l.desc]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",new Date(l.date).toLocaleDateString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Rate:"})," ",l.rate]}),e.jsx("p",{style:{whiteSpace:"pre-line",marginTop:"1rem"},children:l.article})]})]})]})]})};export{P as default};
