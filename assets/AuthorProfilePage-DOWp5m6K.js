import{m as M,a as s,d as k,f as w,n as L,o as P,p as S,q as E,t as I,r as h,j as e}from"./index-2jkyoC1R.js";import{u as F}from"./useGetUserInfo-Bst9VALC.js";import{A as $}from"./ArticlesList-BR2ILiWf.js";import"./usersApi-B79O44mi.js";import"./articlesApi-Cn5zsqry.js";import"./useSaveArticle-DE31ikrT.js";const G="_header_c9lx8_8",R="_active_c9lx8_73",t={"author-profile":"_author-profile_c9lx8_1",header:G,"author-profile__header":"_author-profile__header_c9lx8_18","author-profile__avatar":"_author-profile__avatar_c9lx8_25","author-profile__avatar-placeholder":"_author-profile__avatar-placeholder_c9lx8_31","author-profile__name":"_author-profile__name_c9lx8_44","author-profile__articles-amount":"_author-profile__articles-amount_c9lx8_50","author-profile__tabs":"_author-profile__tabs_c9lx8_56","author-profile__tab-btn":"_author-profile__tab-btn_c9lx8_62",active:R,"author-profile__empty":"_author-profile__empty_c9lx8_78","author-profile__empty-icon":"_author-profile__empty-icon_c9lx8_85","author-profile__empty-title":"_author-profile__empty-title_c9lx8_90","author-profile__empty-subtitle":"_author-profile__empty-subtitle_c9lx8_97","author-profile__action-btn":"_author-profile__action-btn_c9lx8_105","author-profile__load-more-btn":"_author-profile__load-more-btn_c9lx8_121"},u=12,D=()=>{const{id:o}=M(),a=s(k)===o,p=w(),b=s(L),y=s(P),j=s(S),A=s(E),l=s(I),{user:i,userArticles:g,isLoading:N}=F(a?null:o),c=a?b:i?.name,d=a?y:i?.avatarUrl,C=a?j:i?.articlesAmount,[r,m]=h.useState("my"),[f,x]=h.useState(u),_=r==="my"?a?A:g:a?l:[],n=_?.slice(0,f)||[],v=()=>{x(U=>U+u)};return h.useEffect(()=>{x(u)},[r,o]),e.jsxs("div",{className:t["author-profile"],children:[a&&e.jsx("h1",{className:t.header,children:"My profile"}),e.jsxs("div",{className:t["author-profile__header"],children:[d?e.jsx("img",{className:t["author-profile__avatar"],src:d,alt:c,width:100,height:100}):e.jsx("div",{className:t["author-profile__avatar-placeholder"],children:c?.charAt(0).toUpperCase()}),e.jsxs("div",{className:t["author-profile__name__articles-amount"],children:[e.jsx("h2",{className:t["author-profile__name"],children:c}),e.jsxs("p",{className:t["author-profile__articles-amount"],children:["Articles: ",C]})]})]}),a&&e.jsxs("div",{className:t["author-profile__tabs"],children:[e.jsx("button",{className:`${t["author-profile__tab-btn"]} ${r==="my"?t.active:""}`,onClick:()=>m("my"),disabled:r==="my",children:"My Articles"}),e.jsx("button",{className:`${t["author-profile__tab-btn"]} ${r==="saved"?t.active:""}`,onClick:()=>m("saved"),disabled:r==="saved",children:"Saved Articles"})]}),N?e.jsx("p",{className:t["author-profile__loading"],children:"Loading articles..."}):e.jsx(e.Fragment,{children:_?.length===0?e.jsxs("div",{className:t["author-profile__empty"],children:[e.jsx("svg",{width:"64",height:"64",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t["author-profile__empty-icon"],children:e.jsx("path",{d:"M20 28.4444V30.5556M20 9.44444V22.1111M39 20C39 30.4934 30.4934 39 20 39C9.50659 39 1 30.4934 1 20C1 9.50659 9.50659 1 20 1C30.4934 1 39 9.50659 39 20Z",stroke:"#070721",strokeWidth:"2",strokeLinecap:"round"})}),e.jsx("p",{className:t["author-profile__empty-title"],children:"Nothing found."}),a&&r==="saved"?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:t["author-profile__empty-subtitle"],children:"Save your first article"}),e.jsx("button",{className:t["author-profile__action-btn"],onClick:()=>p("/articles"),children:"Go to articles"})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:t["author-profile__empty-subtitle"],children:"Write your first article"}),e.jsx("button",{className:t["author-profile__action-btn"],onClick:()=>p("/create"),children:"Create an article"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx($,{articles:a&&r==="saved"?l?.slice(0,f):n,isOwnProfile:a&&r==="my",activeTab:r}),n.length<(_?.length||0)&&r==="my"&&e.jsx("button",{className:t["author-profile__load-more-btn"],onClick:v,children:"Load More"}),a&&r==="saved"&&l?.length>n.length&&e.jsx("button",{className:t["author-profile__load-more-btn"],onClick:v,children:"Load More"})]})})]})};export{D as default};
