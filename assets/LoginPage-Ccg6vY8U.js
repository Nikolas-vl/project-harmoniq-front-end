import{u,f as F,r as x,j as e,L,l as n,V as l}from"./index-Cpfzcocm.js";import{F as b,c as j,d as f,e as t,E as c,b as m}from"./index.esm-CdwDyeCq.js";import{e as N,a as v}from"./eye-crossed-Dmo-NlkL.js";const k="_loginForm_1b38w_1",y="_h1LoginForm_1b38w_35",P="_loginFormFields_1b38w_42",R="_fieldWrapper_1b38w_66",W="_inputWrapper_1b38w_74",E="_labelLoginForm_1b38w_81",S="_inputLoginForm_1b38w_88",q="_seePass_1b38w_101",B="_loginBtn_1b38w_135",O="_askOfRegister_1b38w_179",T="_linkToRegister_1b38w_187",V="_errorLogin_1b38w_193",s={loginForm:k,h1LoginForm:y,loginFormFields:P,fieldWrapper:R,inputWrapper:W,labelLoginForm:E,inputLoginForm:S,seePass:q,loginBtn:B,askOfRegister:O,linkToRegister:T,errorLogin:V},A=j({email:m().email("Invalid email").required("Email is required"),password:m().min(6,"At least 6 characters").required("Password is required")}),C=()=>{const d=u(),g=F(),[a,p]=x.useState(!1),h={email:"",password:""},_=async(i,{setSubmitting:o,setErrors:w})=>{try{const r=await d(n(i));n.fulfilled.match(r)?g("/"):n.rejected.match(r)&&(w({password:"Invalid email or password"}),l.error("Login failed. Please check your credentials."))}catch(r){console.error("Unexpected error during login",r),l.error("Something went wrong. Please try again later.")}finally{o(!1)}};return e.jsxs("div",{className:s.loginForm,children:[e.jsx("h1",{className:s.h1LoginForm,children:"Login"}),e.jsx(b,{initialValues:h,validationSchema:A,onSubmit:_,children:({isSubmitting:i})=>e.jsxs(f,{noValidate:!0,className:s.loginFormFields,children:[e.jsxs("div",{className:s.fieldWrapper,children:[e.jsx("label",{htmlFor:"email",className:s.labelLoginForm,children:"Enter your email address"}),e.jsx(t,{id:"email",name:"email",type:"email",className:s.inputLoginForm,placeholder:"email@gmail.com"}),e.jsx(c,{name:"email",component:"div",className:s.errorLogin})]}),e.jsxs("div",{className:s.fieldWrapper,children:[e.jsx("label",{htmlFor:"password",className:s.labelLoginForm,children:"Enter a password"}),e.jsxs("div",{className:s.inputWrapper,children:[e.jsx("span",{onClick:()=>p(o=>!o),className:s.seePass,children:e.jsx("img",{src:a?N:v,alt:a?"Show password":"Hide password",width:24,height:24})}),e.jsx(t,{id:"password",name:"password",type:a?"text":"password",className:s.inputLoginForm,placeholder:"*********"})]}),e.jsx(c,{name:"password",component:"div",className:s.errorLogin})]}),e.jsx("button",{type:"submit",disabled:i,className:s.loginBtn,children:"Login"})]})}),e.jsx("div",{children:e.jsxs("p",{className:s.askOfRegister,children:["Don't have an account?"," ",e.jsxs(L,{to:"/register",className:s.linkToRegister,children:[" ","Register"]})]})})]})},H=()=>e.jsx("section",{children:e.jsx(C,{})});export{H as default};
