import{j as t,b,r as n}from"./index-DWWhECSa.js";import{u as v,P as L}from"./Pagination-BhSqZWdT.js";import{A as S}from"./ArticlesList-MgclhMOg.js";/* empty css                  */import{u as C}from"./useGetArticles-DRiM-e39.js";import{N as k}from"./NothingFoundCard-DrBph_eD.js";import"./articlesApi-Bz247OV-.js";import"./useLoader-DNjB8Sb9.js";import"./useDeleteSavedArticle-C4ehht9c.js";import"./camera-DqUc9lEV.js";const B="_section_nbnoo_1",E="_header_nbnoo_5",y="_totalArticles_nbnoo_14",F="_dropdown_nbnoo_20",O="_dropdownButton_nbnoo_25",R="_arrow_nbnoo_40",$="_open_nbnoo_46",I="_dropdownList_nbnoo_50",T="_isActive_nbnoo_75",e={section:B,header:E,totalArticles:y,dropdown:F,dropdownButton:O,arrow:R,open:$,dropdownList:I,isActive:T},q=({children:r})=>t.jsx("h1",{style:{fontWeight:700,fontSize:"40px",color:"#000"},children:r}),V=()=>{const[r]=b(),h=Number(r.get("page"))||1,g=Number(r.get("perPage"))||12,[d,_]=n.useState(h),[x]=n.useState(g),[o,w]=n.useState(null),{articles:a,isLoading:p,pagination:i,queryParams:f}=C({page:d,perPage:x,filter:o});v(f);const P=!i||a.length===0,[u,c]=n.useState(!1),l=n.useRef(null),j=()=>c(s=>!s),m=s=>{w(s),c(!1)},A=o==="popular"?"Popular":"All";return n.useEffect(()=>{const s=N=>{l.current&&!l.current.contains(N.target)&&c(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]),t.jsxs("section",{className:`container ${e.section}`,children:[t.jsx(q,{children:"Articles"}),t.jsxs("div",{className:e.header,children:[t.jsxs("p",{className:e.totalArticles,children:[i?.totalItems||0," articles"]}),t.jsxs("div",{className:e.dropdown,ref:l,children:[t.jsxs("button",{onClick:j,className:e.dropdownButton,children:[A," ",t.jsx("span",{className:`${e.arrow} ${u?e.open:""}`,children:">"})]}),u&&t.jsxs("ul",{className:e.dropdownList,children:[t.jsx("li",{onClick:()=>o!=="all"&&m("all"),className:o==="all"||o===null?e.isActive:"",children:"All"}),t.jsx("li",{onClick:()=>o!=="popular"&&m("popular"),className:o==="popular"?e.isActive:"",children:"Popular"})]})]})]}),P?t.jsx(k,{title:"Nothing found.",text:"Be the first, who creates an article",linkText:"Create an article",linkPath:"/create"}):t.jsxs(t.Fragment,{children:[t.jsx(S,{articles:a,isLoading:p,pagination:i}),a&&a.length>0&&t.jsx(L,{page:d,totalPages:i?.totalPages,onPageChange:_,isLoading:p})]})]})};export{V as default};
