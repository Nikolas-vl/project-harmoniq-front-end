import{j as e,h as E,a as i,d as L,n as $,o as I,p as w,q as M,t as T,r as u}from"./index-DQwv4Li6.js";import{N as F}from"./NothingFoundCard-Ms7hWNAm.js";import{u as G}from"./useGetUserInfo-DI1RxnC8.js";import{A as R}from"./ArticlesList-BX8CENQf.js";import"./useDeleteSavedArticle-B4LIdyq5.js";import"./articlesApi-CJ8CWx5i.js";import"./usersApi-BsB_89oh.js";import"./useSaveArticle--ryON5vI.js";import"./camera-DtcIzBRw.js";const O="_header_dvhjs_8",a={"author-profile":"_author-profile_dvhjs_1",header:O,"author-profile__header":"_author-profile__header_dvhjs_18","author-profile__avatar":"_author-profile__avatar_dvhjs_26","author-profile__avatar-placeholder":"_author-profile__avatar-placeholder_dvhjs_32","author-profile__name":"_author-profile__name_dvhjs_45","author-profile__articles-amount":"_author-profile__articles-amount_dvhjs_51","author-profile__load-more-btn":"_author-profile__load-more-btn_dvhjs_100"},q="_active_19618_17",c={"author-profile__tabs":"_author-profile__tabs_19618_1","author-profile__tab-btn":"_author-profile__tab-btn_19618_6",active:q},p=12,r={all:"myArticles",saved:"mySavedArticles"},B=({setActiveTab:o,activeTab:l})=>e.jsxs("div",{className:c["author-profile__tabs"],children:[e.jsx("button",{className:`${c["author-profile__tab-btn"]} ${l===r.all?c.active:""}`,onClick:()=>o(r.all),disabled:l===r.all,children:"My Articles"}),e.jsx("button",{className:`${c["author-profile__tab-btn"]} ${l===r.saved?c.active:""}`,onClick:()=>o(r.saved),disabled:l===r.saved,children:"Saved Articles"})]}),Y=()=>{const{id:o}=E(),l=i(L),A=i($),j=i(I),x=i(w),b=i(M),N=i(T),t=l===o,[s,U]=u.useState(r.all),[g,m]=u.useState(p),{user:n,userArticles:y,isLoading:C}=G(o),_=t?A:n?.name||"Unknown Author",f=t?j:n?.avatarUrl,S=t?N:n?.articlesAmount,v=s===r.all?t?x:y:b,h=v?.slice(0,g)||[],P=d=>{U(d)},k=()=>{m(d=>d+p)};return u.useEffect(()=>{m(p)},[s,o]),e.jsxs("div",{className:`container ${a["author-profile"]}`,children:[t&&e.jsx("h1",{className:a.header,children:"My profile"}),e.jsxs("div",{className:a["author-profile__header"],children:[f?e.jsx("img",{className:a["author-profile__avatar"],src:f,alt:_,width:100,height:100}):e.jsx("div",{className:a["author-profile__avatar-placeholder"],children:_?.charAt(0).toUpperCase()}),e.jsxs("div",{className:a["author-profile__name__articles-amount"],children:[e.jsx("h2",{className:a["author-profile__name"],children:_}),e.jsxs("p",{className:a["author-profile__articles-amount"],children:["Articles: ",S]})]})]}),t&&e.jsx(B,{setActiveTab:P,activeTab:s}),C?e.jsx("p",{className:a["author-profile__loading"],children:"Loading articles..."}):e.jsx(e.Fragment,{children:h?.length===0?e.jsx(F,{title:"Nothing found.",text:t&&s===r.saved?"Save your first article":"Write your first article",linkText:t&&s===r.saved?"Go to articles":"Create an article",linkPath:t&&s===r.saved?"/articles":"/create"}):e.jsxs(e.Fragment,{children:[e.jsx(R,{articles:h,isOwnProfile:t&&s===r.all}),h.length<(v?.length||0)&&e.jsx("button",{className:a["author-profile__load-more-btn"],onClick:k,children:"Load More"})]})})]})};export{Y as default};
