import{r as m,j as e}from"./index-DQwv4Li6.js";import{u as j}from"./useGetArticles-CHcjG6bq.js";import{u}from"./useGetArticleById-BYcXzYeA.js";import{T as y}from"./TestNav-DYkMPsq-.js";import"./articlesApi-CJ8CWx5i.js";function f(i,l,a=5){const h=Math.floor(a/2);let r=Math.max(1,i-h),n=r+a-1;n>l&&(n=l,r=Math.max(1,n-a+1));const o=[];for(let c=r;c<=n;c++)o.push(c);return o}const C=()=>{const[i,l]=m.useState(1),[a,h]=m.useState(12),[r,n]=m.useState(""),{articles:o,pagination:c,isLoading:d}=j(i,a),{article:s,isLoading:p}=u(r);console.log("article:",s);const x=c?.totalPages||1,g=f(i,x,5);return e.jsxs("div",{style:{padding:"1rem"},children:[e.jsx(y,{}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"1rem",alignItems:"center",flexWrap:"wrap",marginBottom:"1rem"},children:[e.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[e.jsx("input",{placeholder:"Article ID",value:r,onChange:t=>n(t.target.value)}),e.jsx("button",{disabled:!r.trim(),children:"Get Article By ID"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("button",{onClick:()=>l(t=>Math.max(t-1,1)),disabled:i===1||d,children:"Prev"}),g.map(t=>e.jsx("button",{onClick:()=>l(t),disabled:t===i||d,style:{fontWeight:t===i?"bold":"normal",padding:"6px 10px"},children:t},t)),e.jsx("button",{onClick:()=>l(t=>Math.min(t+1,x)),disabled:i===x||d,children:"Next"}),e.jsxs("label",{style:{marginLeft:"1rem"},children:["Per page:"," ",e.jsx("select",{value:a,onChange:t=>{h(Number(t.target.value)),l(1)},disabled:d,children:[6,12,24,48].map(t=>e.jsx("option",{value:t,children:t},t))})]})]})]}),e.jsxs("div",{children:[d?e.jsx("p",{children:"Loading articles..."}):e.jsxs("details",{children:[e.jsx("summary",{style:{fontWeight:"bold"},children:"All Articles"}),e.jsx("ul",{children:o.map(t=>e.jsxs("li",{children:[e.jsxs("p",{children:[" ",t.title]}),e.jsx("p",{children:t._id})]},t._id||t.title))})]}),e.jsx("h3",{children:"Selected Article"}),p?e.jsx("p",{children:"Loading article..."}):s&&e.jsxs("details",{style:{marginTop:"1rem"},children:[e.jsx("summary",{style:{fontWeight:"bold",cursor:"pointer"},children:s.title}),e.jsxs("div",{style:{marginTop:"0.5rem"},children:[e.jsx("img",{src:s.img,alt:s.title,style:{maxWidth:"100%",height:"auto",marginBottom:"1rem"}}),e.jsxs("p",{children:[e.jsx("strong",{children:"Description:"})," ",s.desc]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",new Date(s.date).toLocaleDateString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Rate:"})," ",s.rate]}),e.jsx("p",{style:{whiteSpace:"pre-line",marginTop:"1rem"},children:s.article})]})]})]})]})};export{C as default};
