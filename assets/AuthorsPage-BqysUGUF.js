import{f as u,j as s,r as d}from"./index-C7zRteTl.js";import{u as _}from"./useGetAllUsers-C8905e8P.js";import"./usersApi-FJ-_zEU5.js";const g="_wrapper_1gc32_5",p="_title_1gc32_11",x="_list_1gc32_19",j="_authorItem_1gc32_29",N="_avatar_1gc32_48",v="_name_1gc32_56",f="_loadMore_1gc32_66",A="_noAuthors_1gc32_88",a={wrapper:g,title:p,list:x,authorItem:j,avatar:N,name:v,loadMore:f,noAuthors:A},M=({id:e,name:o,avatar:t})=>{const c=u(),r=()=>{c(`/authors/${e}`)};return s.jsxs("li",{className:a.authorItem,onClick:r,children:[s.jsx("img",{src:t,alt:o,className:a.avatar}),s.jsx("p",{className:a.name,children:o})]})},I=({authors:e,loading:o})=>e.length===0&&!o?s.jsx("p",{className:a.noAuthors,children:"No authors available"}):s.jsx("ul",{className:a.list,children:e.map(t=>s.jsx(M,{id:t._id,name:t.name,avatar:t.avatarUrl},t._id))}),b=()=>{const[e,o]=d.useState(1),[t,c]=d.useState([]),{users:r,paginationData:l,isLoading:n}=_(e,20);d.useEffect(()=>{r&&r.length>0&&c(i=>[...i,...r])},[r]);const m=l?l.page<l.totalPages:!1,h=()=>{!n&&m&&o(i=>i+1)};return s.jsx("section",{className:a.wrapper,children:s.jsx("div",{className:"container",children:s.jsxs("div",{className:a.contentBlock,children:[s.jsx("h2",{className:a.title,children:"Authors"}),s.jsx(I,{authors:t,loading:n}),m&&s.jsx("button",{className:a.loadMore,onClick:h,disabled:n,children:n?"Loading...":"Load More"})]})})})};export{b as default};
