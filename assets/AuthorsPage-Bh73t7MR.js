import{f as p,j as s,r as o,i as x}from"./index-BwOcVC76.js";const f="_wrapper_1gc32_5",j="_title_1gc32_11",A="_list_1gc32_19",N="_authorItem_1gc32_29",v="_avatar_1gc32_48",M="_name_1gc32_56",E="_loadMore_1gc32_66",w="_noAuthors_1gc32_88",t={wrapper:f,title:j,list:A,authorItem:N,avatar:v,name:M,loadMore:E,noAuthors:w},I=({id:e,name:r,avatar:a})=>{const n=p(),l=()=>{n(`/authors/${e}`)};return s.jsxs("li",{className:t.authorItem,onClick:l,children:[s.jsx("img",{src:a,alt:r,className:t.avatar}),s.jsx("p",{className:t.name,children:r})]})},y=({authors:e,loading:r})=>e.length===0&&!r?s.jsx("p",{className:t.noAuthors,children:"No authors available"}):s.jsx("ul",{className:t.list,children:e.map(a=>s.jsx(I,{id:a._id,name:a.name,avatar:a.avatarUrl},a._id))}),g=20,S=()=>{const[e,r]=o.useState([]),[a,n]=o.useState(1),[l,h]=o.useState(!0),[i,d]=o.useState(!1),_=async()=>{try{d(!0);const c=await x.get(`/users?page=${a}&perPage=${g}`),m=Array.isArray(c.data.users)?c.data.users:[];r(u=>[...u,...m]),m.length<g&&h(!1),n(u=>u+1)}catch(c){console.error("Error fetching authors:",c),h(!1)}finally{d(!1)}};return o.useEffect(()=>{_()},[]),s.jsx("section",{className:t.wrapper,children:s.jsx("div",{className:"container",children:s.jsxs("div",{className:t.contentBlock,children:[s.jsx("h2",{className:t.title,children:"Authors"}),s.jsx(y,{authors:e,loading:i}),l&&s.jsx("button",{className:t.loadMore,onClick:_,disabled:i,children:i?"Loading...":"Load More"})]})})})};export{S as default};
