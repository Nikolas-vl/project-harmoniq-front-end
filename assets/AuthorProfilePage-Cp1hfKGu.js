import{j as e,c as w,f as I,u as c,a as S,r as d,g as E,h as L,i as $,k as M,l as T,L as G,m as R}from"./index-Br6ym3h2.js";import{N as F}from"./NothingFoundCard-BNTy2uRh.js";import{u as O,e as B}from"./editor-D2bVqvbO.js";import{A as D}from"./ArticlesList-ACehaBPO.js";import"./useDeleteSavedArticle-DiavHMHi.js";import"./articlesApi-DtnMkk4E.js";import"./useLoader-CQsjtumX.js";import"./camera-CXsrc7bA.js";const V="_header_rax89_8",W="_editIcon_rax89_198",r={"author-profile":"_author-profile_rax89_1",header:V,"author-profile__header":"_author-profile__header_rax89_18","author-profile__avatar":"_author-profile__avatar_rax89_30","author-profile__avatar-placeholder":"_author-profile__avatar-placeholder_rax89_36","author-profile__name":"_author-profile__name_rax89_49","author-profile__articles-amount":"_author-profile__articles-amount_rax89_55","author-profile__load-more-btn":"_author-profile__load-more-btn_rax89_105","author-profile__name-wrapper":"_author-profile__name-wrapper_rax89_165","author-profile__header-link":"_author-profile__header-link_rax89_171","edit-profile-link":"_edit-profile-link_rax89_178",editIcon:W},q="_active_19618_17",n={"author-profile__tabs":"_author-profile__tabs_19618_1","author-profile__tab-btn":"_author-profile__tab-btn_19618_6",active:q},f=12,t={all:"myArticles",saved:"mySavedArticles"},z=({setActiveTab:o,activeTab:s})=>e.jsxs("div",{className:n["author-profile__tabs"],children:[e.jsx("button",{className:`${n["author-profile__tab-btn"]} ${s===t.all?n.active:""}`,onClick:()=>o(t.all),disabled:s===t.all,children:"My Articles"}),e.jsx("button",{className:`${n["author-profile__tab-btn"]} ${s===t.saved?n.active:""}`,onClick:()=>o(t.saved),disabled:s===t.saved,children:"Saved Articles"})]}),ae=()=>{const{id:o}=w(),s=I(),a=c(S)===o;d.useEffect(()=>{(async()=>{a&&await s(R())})()},[s,a]);const A=c(E),j=c(L),N=c($),b=c(M),U=c(T),[l,g]=d.useState(t.all),[k,m]=d.useState(f),{user:u,userArticles:y}=O(a?null:o),i=a?A:u?.name||"Unknown Author",_=a?j:u?.avatarUrl,x=a?U:u?.articlesAmount,v=l===t.all?a?N:y:b,p=v?.slice(0,k)||[],P=h=>{g(h)},C=()=>{m(h=>h+f)};return d.useEffect(()=>{m(f)},[l,o]),e.jsxs("section",{className:`container ${r["author-profile"]}`,children:[a&&e.jsx("h1",{className:r.header,children:"My profile"}),a?e.jsx(G,{to:"/update-profile",className:r["author-profile__header-link"],children:e.jsxs("div",{className:r["author-profile__header"],children:[_?e.jsx("img",{className:r["author-profile__avatar"],src:_,alt:i,width:100,height:100}):e.jsx("div",{className:r["author-profile__avatar-placeholder"],children:i?.charAt(0).toUpperCase()}),e.jsxs("div",{className:r["author-profile__name__articles-amount"],children:[e.jsx("div",{className:r["author-profile__name-wrapper"],children:e.jsx("h2",{className:r["author-profile__name"],children:i})}),e.jsxs("p",{className:r["author-profile__articles-amount"],children:["Articles: ",x]})]}),e.jsx("div",{className:r["edit-profile-link"],children:e.jsx("img",{src:B,alt:"Edit profile",className:r.editIcon})})]})}):e.jsxs("div",{className:r["author-profile__header"],children:[_?e.jsx("img",{className:r["author-profile__avatar"],src:_,alt:i,width:100,height:100}):e.jsx("div",{className:r["author-profile__avatar-placeholder"],children:i?.charAt(0).toUpperCase()}),e.jsxs("div",{className:r["author-profile__name__articles-amount"],children:[e.jsx("div",{className:r["author-profile__name-wrapper"],children:e.jsx("h2",{className:r["author-profile__name"],children:i})}),e.jsxs("p",{className:r["author-profile__articles-amount"],children:["Articles: ",x]})]})]}),a&&e.jsx(z,{setActiveTab:P,activeTab:l}),p?.length===0?e.jsx(F,{title:"Nothing found.",text:a&&l===t.saved?"Save your first article":"Write your first article",linkText:a&&l===t.saved?"Go to articles":"Create an article",linkPath:a&&l===t.saved?"/articles":"/create"}):e.jsxs(e.Fragment,{children:[e.jsx(D,{articles:p,isOwnProfile:a&&l===t.all}),p.length<(v?.length||0)&&e.jsx("button",{className:r["author-profile__load-more-btn"],onClick:C,children:"Load More"})]})]})};export{ae as default};
